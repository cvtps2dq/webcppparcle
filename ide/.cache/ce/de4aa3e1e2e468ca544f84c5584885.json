{"id":"QtXM","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209},{"name":"../../type/primitive_type","loc":{"line":4,"column":33,"index":145},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/dowhile_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/type/primitive_type.ts"},{"name":"../../wasm","loc":{"line":5,"column":23,"index":198},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/dowhile_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/index.ts"},{"name":"../conversion","loc":{"line":6,"column":29,"index":242},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/dowhile_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/conversion.ts"},{"name":"./statement","loc":{"line":7,"column":28,"index":288},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/dowhile_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/statement.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DoWhileStatement=void 0;const t=require(\"../../type/primitive_type\"),e=require(\"../../wasm\"),n=require(\"../conversion\"),o=require(\"./statement\");class r extends o.Statement{constructor(t,e,n){super(t),this.body=e,this.test=n}codegen(o){const r=[],c=[],i=o.getStatementContainer();o.setStatementContainer(c),o.currentFuncContext.continueStack.push(o.currentFuncContext.blockLevel+2),o.currentFuncContext.breakStack.push(o.currentFuncContext.blockLevel+1),o.currentFuncContext.blockLevel+=2,this.body.codegen(o),o.currentFuncContext.blockLevel-=2,o.currentFuncContext.continueStack.pop(),o.currentFuncContext.breakStack.pop(),o.setStatementContainer(r),o.submitStatement(new e.WBlock(c,this.location));const s=this.test.codegen(o);s.expr=n.doConversion(o,t.PrimitiveTypes.int32,s,this),s.type=t.PrimitiveTypes.int32,o.submitStatement(new e.WBrIf(0,s.expr.fold(),this.location)),o.setStatementContainer(i),o.submitStatement(new e.WLoop(r,this.location))}}exports.DoWhileStatement=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":98}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":106}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":108}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":116}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":145}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":147}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":155}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":169}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":171}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":179}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":196}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":198}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":206}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":221}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":227}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":38},"generated":{"line":1,"column":237}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":38},"generated":{"line":1,"column":239}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":249}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":261}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":13,"column":42},"generated":{"line":1,"column":263}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":13,"column":59},"generated":{"line":1,"column":265}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":268}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":14,"column":14},"generated":{"line":1,"column":274}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":277}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":282}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":15,"column":20},"generated":{"line":1,"column":287}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":289}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":16,"column":13},"generated":{"line":1,"column":294}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":1,"column":299}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":1,"column":301}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":309}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":312}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":20,"column":14},"generated":{"line":1,"column":318}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":20,"column":42},"generated":{"line":1,"column":320}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":21,"column":14},"generated":{"line":1,"column":323}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":21,"column":43},"generated":{"line":1,"column":325}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":23,"column":14},"generated":{"line":1,"column":328}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":23,"column":31},"generated":{"line":1,"column":330}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":23,"column":35},"generated":{"line":1,"column":332}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":356}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":358}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":1,"column":380}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":383}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":385}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":27,"column":31},"generated":{"line":1,"column":404}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":27,"column":45},"generated":{"line":1,"column":418}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":27,"column":50},"generated":{"line":1,"column":423}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":27,"column":54},"generated":{"line":1,"column":425}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":27,"column":73},"generated":{"line":1,"column":444}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":27,"column":86},"generated":{"line":1,"column":455}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":458}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":460}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":28,"column":31},"generated":{"line":1,"column":479}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":28,"column":42},"generated":{"line":1,"column":490}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":28,"column":47},"generated":{"line":1,"column":495}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":28,"column":51},"generated":{"line":1,"column":497}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":28,"column":70},"generated":{"line":1,"column":516}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":28,"column":83},"generated":{"line":1,"column":527}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":530}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":532}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":551}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":29,"column":45},"generated":{"line":1,"column":563}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":565}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":1,"column":570}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":1,"column":575}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":30,"column":26},"generated":{"line":1,"column":583}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":586}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":588}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":31,"column":31},"generated":{"line":1,"column":607}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":31,"column":45},"generated":{"line":1,"column":619}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":621}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":623}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":32,"column":31},"generated":{"line":1,"column":642}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":32,"column":45},"generated":{"line":1,"column":656}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":662}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":664}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":683}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":33,"column":42},"generated":{"line":1,"column":694}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":700}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":702}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":37,"column":34},"generated":{"line":1,"column":724}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":727}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":729}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":38,"column":28},"generated":{"line":1,"column":745}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":38,"column":32},"generated":{"line":1,"column":749}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":38,"column":32},"generated":{"line":1,"column":751}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":38,"column":39},"generated":{"line":1,"column":758}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":38,"column":53},"generated":{"line":1,"column":760}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":38,"column":58},"generated":{"line":1,"column":765}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":776}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":39,"column":14},"generated":{"line":1,"column":782}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":39,"column":26},"generated":{"line":1,"column":784}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":39,"column":31},"generated":{"line":1,"column":789}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":39,"column":36},"generated":{"line":1,"column":794}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":39,"column":44},"generated":{"line":1,"column":802}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":805}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":807}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":812}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":814}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":38},"generated":{"line":1,"column":827}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":43},"generated":{"line":1,"column":829}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":43},"generated":{"line":1,"column":831}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":58},"generated":{"line":1,"column":846}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":65},"generated":{"line":1,"column":852}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":40,"column":76},"generated":{"line":1,"column":854}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":860}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":1,"column":862}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":41,"column":25},"generated":{"line":1,"column":867}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":41,"column":25},"generated":{"line":1,"column":869}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":884}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":890}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":892}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":28},"generated":{"line":1,"column":908}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":1,"column":912}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":1,"column":914}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":38},"generated":{"line":1,"column":920}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":41},"generated":{"line":1,"column":922}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":51},"generated":{"line":1,"column":924}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":56},"generated":{"line":1,"column":929}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":64},"generated":{"line":1,"column":936}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":42,"column":69},"generated":{"line":1,"column":941}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":952}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":954}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":976}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":979}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":981}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":46,"column":28},"generated":{"line":1,"column":997}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":46,"column":32},"generated":{"line":1,"column":1001}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":46,"column":32},"generated":{"line":1,"column":1003}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":46,"column":38},"generated":{"line":1,"column":1009}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":46,"column":51},"generated":{"line":1,"column":1011}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":46,"column":56},"generated":{"line":1,"column":1016}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1028}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1036}},{"source":"../src/codegen/statement/dowhile_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1053}}],"sources":{"../src/codegen/statement/dowhile_statement.ts":"import {SourceLocation} from \"../../common/node\";\nimport {PrimitiveTypes} from \"../../type/primitive_type\";\nimport {WBlock, WBrIf, WLoop, WStatement} from \"../../wasm\";\nimport {CompileContext} from \"../context\";\nimport {doConversion} from \"../conversion\";\nimport {Expression} from \"../expression/expression\";\nimport {Statement} from \"./statement\";\n\nexport class DoWhileStatement extends Statement {\n    public body: Statement;\n    public test: Expression;\n\n    constructor(location: SourceLocation, body: Statement, test: Expression) {\n        super(location);\n        this.body = body;\n        this.test = test;\n    }\n\n    public codegen(ctx: CompileContext) {\n        const doWhileLoop: WStatement[] = [];\n        const doWhileBlock: WStatement[] = [];\n\n        const savedContainer = ctx.getStatementContainer();\n\n        // <-- block -->\n        ctx.setStatementContainer(doWhileBlock);\n        ctx.currentFuncContext.continueStack.push(ctx.currentFuncContext.blockLevel + 2);\n        ctx.currentFuncContext.breakStack.push(ctx.currentFuncContext.blockLevel + 1);\n        ctx.currentFuncContext.blockLevel += 2;\n        this.body.codegen(ctx);\n        ctx.currentFuncContext.blockLevel -= 2;\n        ctx.currentFuncContext.continueStack.pop();\n        ctx.currentFuncContext.breakStack.pop();\n        // <-- block -->\n\n        // <-- loop -->\n        ctx.setStatementContainer(doWhileLoop);\n        ctx.submitStatement(new WBlock(doWhileBlock, this.location));\n        const condition = this.test.codegen(ctx);\n        condition.expr = doConversion(ctx, PrimitiveTypes.int32, condition, this);\n        condition.type = PrimitiveTypes.int32;\n        ctx.submitStatement(new WBrIf(0, condition.expr.fold(), this.location));\n        // <-- loop -->\n\n        ctx.setStatementContainer(savedContainer);\n        ctx.submitStatement(new WLoop(doWhileLoop, this.location));\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"80696df62d9c29ba2c23c58b8004acf8","cacheData":{"env":{}}}