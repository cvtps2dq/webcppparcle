{"id":"dGoJ","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209},{"name":"../common/error","loc":{"line":5,"column":24,"index":205},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/linker/index.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/error.ts"},{"name":"../common/node","loc":{"line":6,"column":23,"index":248},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/linker/index.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/node.ts"},{"name":"../wasm","loc":{"line":7,"column":23,"index":290},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/linker/index.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/index.ts"},{"name":"../wasm/tool/dumper","loc":{"line":8,"column":25,"index":327},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/linker/index.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/tool/dumper.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.link=void 0;const e=require(\"../common/error\"),t=require(\"../common/node\"),o=require(\"../wasm\"),n=require(\"../wasm/tool/dumper\");function s(s,r,a){const i=[],p=[],m=[],c=[],u=[],l=new Map,f=new Map,y=new Set;for(const e of r)f.set(e.fileName,{source:e.source.split(\"\\n\"),sourceMap:e.sourceMap,lastLine:0}),Array.from(e.requiredWASMFuncTypes.keys()).map(e=>y.add(e));const w=[];let d=0;for(const e of r){for(const t of e.functions)t.dataStart=d,t.fileName=e.fileName,/^::main@.*/.test(t.name)&&w.push(t.name),m.push(t);c.push(new o.WDataSegment(d,e.data.slice(0,e.dataSize),t.EmptyLocation));const n=`$init$${e.fileName}`,s=new o.WFunction(n,n,[],[],[],e.globalStatements,t.EmptyLocation);s.dataStart=d,m.push(s),u.push(n),d+=e.dataSize}let W=d;for(const e of r){for(const t of e.functions)t.bssStart=W;W+=e.dataSize}const E=new o.WFunction(\"$start\",\"__start\",[],[],[],u.map(e=>new o.WCall(e,[],[],t.EmptyLocation)),t.EmptyLocation);m.push(E);for(const t of r)for(const o of t.exports){if(l.get(o.name))throw new e.LinkerError(`duplicated symbol of ${o.name}`);l.set(o.name,o.location)}for(const e of r)for(const n of e.imports)i.includes(n.name)||(i.push(n.name),p.push(new o.WImportFunction(\"system\",n.name,n.type.returnTypes,n.type.parameters,t.EmptyLocation)));const L=r[r.length-1].scope;if(p.push(new o.WImportMemory(\"system\",\"memory\",1,10,t.EmptyLocation)),m.push(new o.WFunction(\"$get_sp\",\"get_sp\",[o.WType.u32],[],[],[new o.WReturn(new o.WGetGlobal(o.WType.u32,\"$sp\",t.EmptyLocation),t.EmptyLocation)],t.EmptyLocation)),m.push(new o.WFunction(\"$set_sp\",\"set_sp\",[],[o.WType.u32],[],[new o.WSetGlobal(o.WType.u32,\"$sp\",new o.WGetLocal(o.WType.u32,0,t.EmptyLocation),t.EmptyLocation)],t.EmptyLocation)),0===w.length)throw new e.LinkerError(\"no main function found\");if(w.length>1)throw new e.LinkerError(\"multiple main function found\");const h=new o.WModule({functions:m,imports:p,exports:[\"$start\",w[0],\"$get_sp\",\"$set_sp\"],globals:[new o.WGlobalVariable(\"$sp\",o.u32,new o.WConst(o.u32,\"1000\",t.EmptyLocation),t.EmptyLocation)],data:c,generateMemory:!1,requiredFuncTypes:Array.from(y.keys())},t.EmptyLocation),S=new o.WASMEmitter(l,f);h.optimize(S),h.emit(S);const g=new o.JSONEmitter(l,f);h.optimize(g),h.emit(g);let $=\"\";return a.debug&&($=n.dumpWASMJSON(g.getJSON(),f),console.log($)),{fileName:s,heapStart:4*(parseInt((W+1)/4)+1),entry:w[0],sourceMap:f,scope:L,binary:S.toArrayBuffer(),json:g.getJSON(),dumpInfo:$}}exports.link=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":86}},{"source":"../src/linker/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":88}},{"source":"../src/linker/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":94}},{"source":"../src/linker/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":96}},{"source":"../src/linker/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":104}},{"source":"../src/linker/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":123}},{"source":"../src/linker/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":125}},{"source":"../src/linker/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":133}},{"source":"../src/linker/index.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":151}},{"source":"../src/linker/index.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":153}},{"source":"../src/linker/index.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":161}},{"source":"../src/linker/index.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":172}},{"source":"../src/linker/index.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":174}},{"source":"../src/linker/index.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":182}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":205}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":1,"column":214}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":21},"generated":{"line":1,"column":216}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":1,"column":218}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":66},"generated":{"line":1,"column":220}},{"source":"../src/linker/index.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":223}},{"source":"../src/linker/index.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":229}},{"source":"../src/linker/index.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":231}},{"source":"../src/linker/index.ts","name":null,"original":{"line":33,"column":10},"generated":{"line":1,"column":234}},{"source":"../src/linker/index.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":1,"column":236}},{"source":"../src/linker/index.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":239}},{"source":"../src/linker/index.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":241}},{"source":"../src/linker/index.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":244}},{"source":"../src/linker/index.ts","name":null,"original":{"line":35,"column":33},"generated":{"line":1,"column":246}},{"source":"../src/linker/index.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":249}},{"source":"../src/linker/index.ts","name":null,"original":{"line":36,"column":36},"generated":{"line":1,"column":251}},{"source":"../src/linker/index.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":254}},{"source":"../src/linker/index.ts","name":null,"original":{"line":37,"column":25},"generated":{"line":1,"column":256}},{"source":"../src/linker/index.ts","name":null,"original":{"line":37,"column":29},"generated":{"line":1,"column":260}},{"source":"../src/linker/index.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":264}},{"source":"../src/linker/index.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":266}},{"source":"../src/linker/index.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":1,"column":270}},{"source":"../src/linker/index.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":274}},{"source":"../src/linker/index.ts","name":null,"original":{"line":39,"column":30},"generated":{"line":1,"column":276}},{"source":"../src/linker/index.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":280}},{"source":"../src/linker/index.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":1,"column":284}},{"source":"../src/linker/index.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":288}},{"source":"../src/linker/index.ts","name":null,"original":{"line":42,"column":15},"generated":{"line":1,"column":294}},{"source":"../src/linker/index.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":1,"column":299}},{"source":"../src/linker/index.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":301}},{"source":"../src/linker/index.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":303}},{"source":"../src/linker/index.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":307}},{"source":"../src/linker/index.ts","name":null,"original":{"line":43,"column":29},"generated":{"line":1,"column":309}},{"source":"../src/linker/index.ts","name":null,"original":{"line":43,"column":39},"generated":{"line":1,"column":318}},{"source":"../src/linker/index.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":319}},{"source":"../src/linker/index.ts","name":null,"original":{"line":44,"column":20},"generated":{"line":1,"column":326}},{"source":"../src/linker/index.ts","name":null,"original":{"line":44,"column":27},"generated":{"line":1,"column":328}},{"source":"../src/linker/index.ts","name":null,"original":{"line":44,"column":35},"generated":{"line":1,"column":335}},{"source":"../src/linker/index.ts","name":null,"original":{"line":44,"column":41},"generated":{"line":1,"column":341}},{"source":"../src/linker/index.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":347}},{"source":"../src/linker/index.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":357}},{"source":"../src/linker/index.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":1,"column":359}},{"source":"../src/linker/index.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":369}},{"source":"../src/linker/index.ts","name":null,"original":{"line":46,"column":22},"generated":{"line":1,"column":378}},{"source":"../src/linker/index.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":382}},{"source":"../src/linker/index.ts","name":null,"original":{"line":48,"column":14},"generated":{"line":1,"column":388}},{"source":"../src/linker/index.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":393}},{"source":"../src/linker/index.ts","name":null,"original":{"line":48,"column":26},"generated":{"line":1,"column":395}},{"source":"../src/linker/index.ts","name":null,"original":{"line":48,"column":48},"generated":{"line":1,"column":417}},{"source":"../src/linker/index.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":1,"column":425}},{"source":"../src/linker/index.ts","name":null,"original":{"line":49,"column":18},"generated":{"line":1,"column":429}},{"source":"../src/linker/index.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":1,"column":432}},{"source":"../src/linker/index.ts","name":null,"original":{"line":49,"column":42},"generated":{"line":1,"column":434}},{"source":"../src/linker/index.ts","name":null,"original":{"line":49,"column":46},"generated":{"line":1,"column":438}},{"source":"../src/linker/index.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":442}},{"source":"../src/linker/index.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":1,"column":448}},{"source":"../src/linker/index.ts","name":null,"original":{"line":52,"column":18},"generated":{"line":1,"column":450}},{"source":"../src/linker/index.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":453}},{"source":"../src/linker/index.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":457}},{"source":"../src/linker/index.ts","name":null,"original":{"line":55,"column":18},"generated":{"line":1,"column":459}},{"source":"../src/linker/index.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":461}},{"source":"../src/linker/index.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":465}},{"source":"../src/linker/index.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":471}},{"source":"../src/linker/index.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":1,"column":476}},{"source":"../src/linker/index.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":478}},{"source":"../src/linker/index.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":479}},{"source":"../src/linker/index.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":1,"column":483}},{"source":"../src/linker/index.ts","name":null,"original":{"line":57,"column":19},"generated":{"line":1,"column":489}},{"source":"../src/linker/index.ts","name":null,"original":{"line":57,"column":27},"generated":{"line":1,"column":494}},{"source":"../src/linker/index.ts","name":null,"original":{"line":57,"column":34},"generated":{"line":1,"column":496}},{"source":"../src/linker/index.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":1,"column":506}},{"source":"../src/linker/index.ts","name":null,"original":{"line":58,"column":17},"generated":{"line":1,"column":508}},{"source":"../src/linker/index.ts","name":null,"original":{"line":58,"column":29},"generated":{"line":1,"column":518}},{"source":"../src/linker/index.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":1,"column":520}},{"source":"../src/linker/index.ts","name":null,"original":{"line":59,"column":17},"generated":{"line":1,"column":522}},{"source":"../src/linker/index.ts","name":null,"original":{"line":59,"column":28},"generated":{"line":1,"column":531}},{"source":"../src/linker/index.ts","name":null,"original":{"line":59,"column":35},"generated":{"line":1,"column":533}},{"source":"../src/linker/index.ts","name":null,"original":{"line":60,"column":16},"generated":{"line":1,"column":542}},{"source":"../src/linker/index.ts","name":null,"original":{"line":60,"column":29},"generated":{"line":1,"column":555}},{"source":"../src/linker/index.ts","name":null,"original":{"line":60,"column":34},"generated":{"line":1,"column":560}},{"source":"../src/linker/index.ts","name":null,"original":{"line":60,"column":39},"generated":{"line":1,"column":562}},{"source":"../src/linker/index.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":569}},{"source":"../src/linker/index.ts","name":null,"original":{"line":61,"column":22},"generated":{"line":1,"column":571}},{"source":"../src/linker/index.ts","name":null,"original":{"line":61,"column":27},"generated":{"line":1,"column":576}},{"source":"../src/linker/index.ts","name":null,"original":{"line":61,"column":32},"generated":{"line":1,"column":578}},{"source":"../src/linker/index.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":1,"column":584}},{"source":"../src/linker/index.ts","name":null,"original":{"line":63,"column":22},"generated":{"line":1,"column":586}},{"source":"../src/linker/index.ts","name":null,"original":{"line":63,"column":27},"generated":{"line":1,"column":591}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":594}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":13},"generated":{"line":1,"column":596}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":18},"generated":{"line":1,"column":601}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":22},"generated":{"line":1,"column":605}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":22},"generated":{"line":1,"column":607}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":35},"generated":{"line":1,"column":620}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":44},"generated":{"line":1,"column":622}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":51},"generated":{"line":1,"column":624}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":56},"generated":{"line":1,"column":629}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":62},"generated":{"line":1,"column":635}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":65},"generated":{"line":1,"column":637}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":72},"generated":{"line":1,"column":639}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":83},"generated":{"line":1,"column":649}},{"source":"../src/linker/index.ts","name":null,"original":{"line":65,"column":83},"generated":{"line":1,"column":651}},{"source":"../src/linker/index.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":667}},{"source":"../src/linker/index.ts","name":null,"original":{"line":66,"column":14},"generated":{"line":1,"column":673}},{"source":"../src/linker/index.ts","name":null,"original":{"line":66,"column":38},"generated":{"line":1,"column":684}},{"source":"../src/linker/index.ts","name":null,"original":{"line":66,"column":45},"generated":{"line":1,"column":686}},{"source":"../src/linker/index.ts","name":null,"original":{"line":67,"column":14},"generated":{"line":1,"column":697}},{"source":"../src/linker/index.ts","name":null,"original":{"line":67,"column":25},"generated":{"line":1,"column":699}},{"source":"../src/linker/index.ts","name":null,"original":{"line":67,"column":29},"generated":{"line":1,"column":703}},{"source":"../src/linker/index.ts","name":null,"original":{"line":67,"column":29},"generated":{"line":1,"column":705}},{"source":"../src/linker/index.ts","name":null,"original":{"line":67,"column":39},"generated":{"line":1,"column":715}},{"source":"../src/linker/index.ts","name":null,"original":{"line":67,"column":53},"generated":{"line":1,"column":717}},{"source":"../src/linker/index.ts","name":null,"original":{"line":68,"column":12},"generated":{"line":1,"column":719}},{"source":"../src/linker/index.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":1,"column":722}},{"source":"../src/linker/index.ts","name":null,"original":{"line":68,"column":20},"generated":{"line":1,"column":725}},{"source":"../src/linker/index.ts","name":null,"original":{"line":68,"column":24},"generated":{"line":1,"column":728}},{"source":"../src/linker/index.ts","name":null,"original":{"line":68,"column":31},"generated":{"line":1,"column":730}},{"source":"../src/linker/index.ts","name":null,"original":{"line":68,"column":49},"generated":{"line":1,"column":747}},{"source":"../src/linker/index.ts","name":null,"original":{"line":68,"column":49},"generated":{"line":1,"column":749}},{"source":"../src/linker/index.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":764}},{"source":"../src/linker/index.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":766}},{"source":"../src/linker/index.ts","name":null,"original":{"line":69,"column":29},"generated":{"line":1,"column":776}},{"source":"../src/linker/index.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":778}},{"source":"../src/linker/index.ts","name":null,"original":{"line":70,"column":18},"generated":{"line":1,"column":780}},{"source":"../src/linker/index.ts","name":null,"original":{"line":70,"column":23},"generated":{"line":1,"column":785}},{"source":"../src/linker/index.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":788}},{"source":"../src/linker/index.ts","name":null,"original":{"line":71,"column":22},"generated":{"line":1,"column":790}},{"source":"../src/linker/index.ts","name":null,"original":{"line":71,"column":27},"generated":{"line":1,"column":795}},{"source":"../src/linker/index.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":798}},{"source":"../src/linker/index.ts","name":null,"original":{"line":72,"column":19},"generated":{"line":1,"column":801}},{"source":"../src/linker/index.ts","name":null,"original":{"line":72,"column":26},"generated":{"line":1,"column":803}},{"source":"../src/linker/index.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":812}},{"source":"../src/linker/index.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":1,"column":816}},{"source":"../src/linker/index.ts","name":null,"original":{"line":75,"column":17},"generated":{"line":1,"column":818}},{"source":"../src/linker/index.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":1,"column":820}},{"source":"../src/linker/index.ts","name":null,"original":{"line":76,"column":9},"generated":{"line":1,"column":824}},{"source":"../src/linker/index.ts","name":null,"original":{"line":76,"column":15},"generated":{"line":1,"column":830}},{"source":"../src/linker/index.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":835}},{"source":"../src/linker/index.ts","name":null,"original":{"line":76,"column":34},"generated":{"line":1,"column":837}},{"source":"../src/linker/index.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":838}},{"source":"../src/linker/index.ts","name":null,"original":{"line":77,"column":13},"generated":{"line":1,"column":842}},{"source":"../src/linker/index.ts","name":null,"original":{"line":77,"column":19},"generated":{"line":1,"column":848}},{"source":"../src/linker/index.ts","name":null,"original":{"line":77,"column":27},"generated":{"line":1,"column":853}},{"source":"../src/linker/index.ts","name":null,"original":{"line":77,"column":34},"generated":{"line":1,"column":855}},{"source":"../src/linker/index.ts","name":null,"original":{"line":78,"column":12},"generated":{"line":1,"column":865}},{"source":"../src/linker/index.ts","name":null,"original":{"line":78,"column":17},"generated":{"line":1,"column":867}},{"source":"../src/linker/index.ts","name":null,"original":{"line":78,"column":28},"generated":{"line":1,"column":876}},{"source":"../src/linker/index.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":878}},{"source":"../src/linker/index.ts","name":null,"original":{"line":80,"column":18},"generated":{"line":1,"column":881}},{"source":"../src/linker/index.ts","name":null,"original":{"line":80,"column":25},"generated":{"line":1,"column":883}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":1,"column":892}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":10},"generated":{"line":1,"column":898}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":22},"generated":{"line":1,"column":900}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":26},"generated":{"line":1,"column":904}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":26},"generated":{"line":1,"column":906}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":36},"generated":{"line":1,"column":916}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":46},"generated":{"line":1,"column":925}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":57},"generated":{"line":1,"column":935}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":61},"generated":{"line":1,"column":938}},{"source":"../src/linker/index.ts","name":null,"original":{"line":83,"column":65},"generated":{"line":1,"column":941}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":944}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":22},"generated":{"line":1,"column":946}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":950}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":36},"generated":{"line":1,"column":953}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":40},"generated":{"line":1,"column":957}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":40},"generated":{"line":1,"column":959}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":46},"generated":{"line":1,"column":965}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":52},"generated":{"line":1,"column":967}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":56},"generated":{"line":1,"column":970}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":60},"generated":{"line":1,"column":973}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":60},"generated":{"line":1,"column":975}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":77},"generated":{"line":1,"column":991}},{"source":"../src/linker/index.ts","name":null,"original":{"line":84,"column":77},"generated":{"line":1,"column":993}},{"source":"../src/linker/index.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":1,"column":1008}},{"source":"../src/linker/index.ts","name":null,"original":{"line":85,"column":14},"generated":{"line":1,"column":1010}},{"source":"../src/linker/index.ts","name":null,"original":{"line":85,"column":19},"generated":{"line":1,"column":1015}},{"source":"../src/linker/index.ts","name":null,"original":{"line":89,"column":4},"generated":{"line":1,"column":1018}},{"source":"../src/linker/index.ts","name":null,"original":{"line":89,"column":9},"generated":{"line":1,"column":1022}},{"source":"../src/linker/index.ts","name":null,"original":{"line":89,"column":15},"generated":{"line":1,"column":1028}},{"source":"../src/linker/index.ts","name":null,"original":{"line":89,"column":25},"generated":{"line":1,"column":1033}},{"source":"../src/linker/index.ts","name":null,"original":{"line":90,"column":8},"generated":{"line":1,"column":1035}},{"source":"../src/linker/index.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":1,"column":1039}},{"source":"../src/linker/index.ts","name":null,"original":{"line":90,"column":19},"generated":{"line":1,"column":1045}},{"source":"../src/linker/index.ts","name":null,"original":{"line":90,"column":29},"generated":{"line":1,"column":1050}},{"source":"../src/linker/index.ts","name":null,"original":{"line":90,"column":36},"generated":{"line":1,"column":1052}},{"source":"../src/linker/index.ts","name":null,"original":{"line":90,"column":45},"generated":{"line":1,"column":1060}},{"source":"../src/linker/index.ts","name":null,"original":{"line":92,"column":12},"generated":{"line":1,"column":1061}},{"source":"../src/linker/index.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":1,"column":1064}},{"source":"../src/linker/index.ts","name":null,"original":{"line":91,"column":38},"generated":{"line":1,"column":1066}},{"source":"../src/linker/index.ts","name":null,"original":{"line":91,"column":42},"generated":{"line":1,"column":1070}},{"source":"../src/linker/index.ts","name":null,"original":{"line":91,"column":49},"generated":{"line":1,"column":1072}},{"source":"../src/linker/index.ts","name":null,"original":{"line":93,"column":16},"generated":{"line":1,"column":1078}},{"source":"../src/linker/index.ts","name":null,"original":{"line":93,"column":22},"generated":{"line":1,"column":1084}},{"source":"../src/linker/index.ts","name":null,"original":{"line":93,"column":26},"generated":{"line":1,"column":1088}},{"source":"../src/linker/index.ts","name":null,"original":{"line":93,"column":26},"generated":{"line":1,"column":1090}},{"source":"../src/linker/index.ts","name":null,"original":{"line":93,"column":62},"generated":{"line":1,"column":1126}},{"source":"../src/linker/index.ts","name":null,"original":{"line":93,"column":69},"generated":{"line":1,"column":1128}},{"source":"../src/linker/index.ts","name":null,"original":{"line":95,"column":12},"generated":{"line":1,"column":1136}},{"source":"../src/linker/index.ts","name":null,"original":{"line":95,"column":25},"generated":{"line":1,"column":1138}},{"source":"../src/linker/index.ts","name":null,"original":{"line":95,"column":29},"generated":{"line":1,"column":1142}},{"source":"../src/linker/index.ts","name":null,"original":{"line":95,"column":36},"generated":{"line":1,"column":1144}},{"source":"../src/linker/index.ts","name":null,"original":{"line":95,"column":42},"generated":{"line":1,"column":1149}},{"source":"../src/linker/index.ts","name":null,"original":{"line":95,"column":49},"generated":{"line":1,"column":1151}},{"source":"../src/linker/index.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":1,"column":1161}},{"source":"../src/linker/index.ts","name":null,"original":{"line":100,"column":9},"generated":{"line":1,"column":1165}},{"source":"../src/linker/index.ts","name":null,"original":{"line":100,"column":15},"generated":{"line":1,"column":1171}},{"source":"../src/linker/index.ts","name":null,"original":{"line":100,"column":25},"generated":{"line":1,"column":1176}},{"source":"../src/linker/index.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":1178}},{"source":"../src/linker/index.ts","name":null,"original":{"line":101,"column":13},"generated":{"line":1,"column":1182}},{"source":"../src/linker/index.ts","name":null,"original":{"line":101,"column":19},"generated":{"line":1,"column":1188}},{"source":"../src/linker/index.ts","name":null,"original":{"line":101,"column":27},"generated":{"line":1,"column":1193}},{"source":"../src/linker/index.ts","name":null,"original":{"line":101,"column":34},"generated":{"line":1,"column":1195}},{"source":"../src/linker/index.ts","name":null,"original":{"line":102,"column":18},"generated":{"line":1,"column":1203}},{"source":"../src/linker/index.ts","name":null,"original":{"line":102,"column":32},"generated":{"line":1,"column":1205}},{"source":"../src/linker/index.ts","name":null,"original":{"line":102,"column":41},"generated":{"line":1,"column":1214}},{"source":"../src/linker/index.ts","name":null,"original":{"line":102,"column":46},"generated":{"line":1,"column":1216}},{"source":"../src/linker/index.ts","name":null,"original":{"line":103,"column":16},"generated":{"line":1,"column":1224}},{"source":"../src/linker/index.ts","name":null,"original":{"line":103,"column":30},"generated":{"line":1,"column":1226}},{"source":"../src/linker/index.ts","name":null,"original":{"line":103,"column":35},"generated":{"line":1,"column":1231}},{"source":"../src/linker/index.ts","name":null,"original":{"line":103,"column":40},"generated":{"line":1,"column":1233}},{"source":"../src/linker/index.ts","name":null,"original":{"line":104,"column":16},"generated":{"line":1,"column":1239}},{"source":"../src/linker/index.ts","name":null,"original":{"line":104,"column":24},"generated":{"line":1,"column":1241}},{"source":"../src/linker/index.ts","name":null,"original":{"line":104,"column":29},"generated":{"line":1,"column":1246}},{"source":"../src/linker/index.ts","name":null,"original":{"line":104,"column":33},"generated":{"line":1,"column":1250}},{"source":"../src/linker/index.ts","name":null,"original":{"line":104,"column":33},"generated":{"line":1,"column":1252}},{"source":"../src/linker/index.ts","name":null,"original":{"line":104,"column":49},"generated":{"line":1,"column":1268}},{"source":"../src/linker/index.ts","name":null,"original":{"line":104,"column":59},"generated":{"line":1,"column":1277}},{"source":"../src/linker/index.ts","name":null,"original":{"line":104,"column":64},"generated":{"line":1,"column":1279}},{"source":"../src/linker/index.ts","name":null,"original":{"line":105,"column":20},"generated":{"line":1,"column":1284}},{"source":"../src/linker/index.ts","name":null,"original":{"line":105,"column":25},"generated":{"line":1,"column":1286}},{"source":"../src/linker/index.ts","name":null,"original":{"line":105,"column":30},"generated":{"line":1,"column":1291}},{"source":"../src/linker/index.ts","name":null,"original":{"line":105,"column":43},"generated":{"line":1,"column":1303}},{"source":"../src/linker/index.ts","name":null,"original":{"line":105,"column":48},"generated":{"line":1,"column":1305}},{"source":"../src/linker/index.ts","name":null,"original":{"line":105,"column":53},"generated":{"line":1,"column":1310}},{"source":"../src/linker/index.ts","name":null,"original":{"line":105,"column":65},"generated":{"line":1,"column":1321}},{"source":"../src/linker/index.ts","name":null,"original":{"line":105,"column":65},"generated":{"line":1,"column":1323}},{"source":"../src/linker/index.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":1,"column":1340}},{"source":"../src/linker/index.ts","name":null,"original":{"line":113,"column":10},"generated":{"line":1,"column":1346}},{"source":"../src/linker/index.ts","name":null,"original":{"line":113,"column":18},"generated":{"line":1,"column":1348}},{"source":"../src/linker/index.ts","name":null,"original":{"line":113,"column":26},"generated":{"line":1,"column":1350}},{"source":"../src/linker/index.ts","name":null,"original":{"line":113,"column":34},"generated":{"line":1,"column":1352}},{"source":"../src/linker/index.ts","name":null,"original":{"line":113,"column":43},"generated":{"line":1,"column":1359}},{"source":"../src/linker/index.ts","name":null,"original":{"line":113,"column":46},"generated":{"line":1,"column":1362}},{"source":"../src/linker/index.ts","name":null,"original":{"line":127,"column":4},"generated":{"line":1,"column":1368}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":1,"column":1371}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":12},"generated":{"line":1,"column":1373}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":17},"generated":{"line":1,"column":1378}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":21},"generated":{"line":1,"column":1382}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":21},"generated":{"line":1,"column":1384}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":35},"generated":{"line":1,"column":1398}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":45},"generated":{"line":1,"column":1407}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":55},"generated":{"line":1,"column":1416}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":58},"generated":{"line":1,"column":1418}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":62},"generated":{"line":1,"column":1421}},{"source":"../src/linker/index.ts","name":null,"original":{"line":117,"column":62},"generated":{"line":1,"column":1423}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":4},"generated":{"line":1,"column":1439}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":14},"generated":{"line":1,"column":1441}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":19},"generated":{"line":1,"column":1446}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":23},"generated":{"line":1,"column":1450}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":23},"generated":{"line":1,"column":1452}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":33},"generated":{"line":1,"column":1462}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":44},"generated":{"line":1,"column":1472}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":54},"generated":{"line":1,"column":1481}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":55},"generated":{"line":1,"column":1482}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":55},"generated":{"line":1,"column":1484}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":61},"generated":{"line":1,"column":1490}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":67},"generated":{"line":1,"column":1495}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":71},"generated":{"line":1,"column":1498}},{"source":"../src/linker/index.ts","name":null,"original":{"line":119,"column":75},"generated":{"line":1,"column":1501}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":1502}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":12},"generated":{"line":1,"column":1506}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":12},"generated":{"line":1,"column":1508}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":20},"generated":{"line":1,"column":1516}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":24},"generated":{"line":1,"column":1520}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":24},"generated":{"line":1,"column":1522}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":35},"generated":{"line":1,"column":1533}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":35},"generated":{"line":1,"column":1535}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":41},"generated":{"line":1,"column":1541}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":47},"generated":{"line":1,"column":1545}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":54},"generated":{"line":1,"column":1551}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":54},"generated":{"line":1,"column":1553}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":70},"generated":{"line":1,"column":1568}},{"source":"../src/linker/index.ts","name":null,"original":{"line":120,"column":70},"generated":{"line":1,"column":1570}},{"source":"../src/linker/index.ts","name":null,"original":{"line":121,"column":7},"generated":{"line":1,"column":1586}},{"source":"../src/linker/index.ts","name":null,"original":{"line":121,"column":7},"generated":{"line":1,"column":1588}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":1,"column":1604}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":14},"generated":{"line":1,"column":1606}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":19},"generated":{"line":1,"column":1611}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":23},"generated":{"line":1,"column":1615}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":23},"generated":{"line":1,"column":1617}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":33},"generated":{"line":1,"column":1627}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":44},"generated":{"line":1,"column":1637}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":54},"generated":{"line":1,"column":1646}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":58},"generated":{"line":1,"column":1649}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":59},"generated":{"line":1,"column":1650}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":59},"generated":{"line":1,"column":1652}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":65},"generated":{"line":1,"column":1658}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":71},"generated":{"line":1,"column":1663}},{"source":"../src/linker/index.ts","name":null,"original":{"line":123,"column":75},"generated":{"line":1,"column":1666}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1667}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":1,"column":1671}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":1,"column":1673}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":23},"generated":{"line":1,"column":1684}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":23},"generated":{"line":1,"column":1686}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":29},"generated":{"line":1,"column":1692}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":35},"generated":{"line":1,"column":1696}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":42},"generated":{"line":1,"column":1702}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":46},"generated":{"line":1,"column":1706}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":46},"generated":{"line":1,"column":1708}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":56},"generated":{"line":1,"column":1718}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":56},"generated":{"line":1,"column":1720}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":62},"generated":{"line":1,"column":1726}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":67},"generated":{"line":1,"column":1730}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":70},"generated":{"line":1,"column":1732}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":70},"generated":{"line":1,"column":1734}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":86},"generated":{"line":1,"column":1749}},{"source":"../src/linker/index.ts","name":null,"original":{"line":124,"column":86},"generated":{"line":1,"column":1751}},{"source":"../src/linker/index.ts","name":null,"original":{"line":125,"column":7},"generated":{"line":1,"column":1767}},{"source":"../src/linker/index.ts","name":null,"original":{"line":125,"column":7},"generated":{"line":1,"column":1769}},{"source":"../src/linker/index.ts","name":null,"original":{"line":127,"column":26},"generated":{"line":1,"column":1785}},{"source":"../src/linker/index.ts","name":null,"original":{"line":127,"column":9},"generated":{"line":1,"column":1789}},{"source":"../src/linker/index.ts","name":null,"original":{"line":127,"column":15},"generated":{"line":1,"column":1791}},{"source":"../src/linker/index.ts","name":null,"original":{"line":128,"column":8},"generated":{"line":1,"column":1798}},{"source":"../src/linker/index.ts","name":null,"original":{"line":128,"column":14},"generated":{"line":1,"column":1804}},{"source":"../src/linker/index.ts","name":null,"original":{"line":128,"column":18},"generated":{"line":1,"column":1808}},{"source":"../src/linker/index.ts","name":null,"original":{"line":128,"column":18},"generated":{"line":1,"column":1810}},{"source":"../src/linker/index.ts","name":null,"original":{"line":128,"column":30},"generated":{"line":1,"column":1822}},{"source":"../src/linker/index.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":1,"column":1848}},{"source":"../src/linker/index.ts","name":null,"original":{"line":131,"column":8},"generated":{"line":1,"column":1851}},{"source":"../src/linker/index.ts","name":null,"original":{"line":131,"column":14},"generated":{"line":1,"column":1853}},{"source":"../src/linker/index.ts","name":null,"original":{"line":131,"column":23},"generated":{"line":1,"column":1860}},{"source":"../src/linker/index.ts","name":null,"original":{"line":132,"column":8},"generated":{"line":1,"column":1862}},{"source":"../src/linker/index.ts","name":null,"original":{"line":132,"column":14},"generated":{"line":1,"column":1868}},{"source":"../src/linker/index.ts","name":null,"original":{"line":132,"column":18},"generated":{"line":1,"column":1872}},{"source":"../src/linker/index.ts","name":null,"original":{"line":132,"column":18},"generated":{"line":1,"column":1874}},{"source":"../src/linker/index.ts","name":null,"original":{"line":132,"column":30},"generated":{"line":1,"column":1886}},{"source":"../src/linker/index.ts","name":null,"original":{"line":136,"column":4},"generated":{"line":1,"column":1918}},{"source":"../src/linker/index.ts","name":null,"original":{"line":136,"column":10},"generated":{"line":1,"column":1924}},{"source":"../src/linker/index.ts","name":null,"original":{"line":136,"column":16},"generated":{"line":1,"column":1926}},{"source":"../src/linker/index.ts","name":null,"original":{"line":136,"column":20},"generated":{"line":1,"column":1930}},{"source":"../src/linker/index.ts","name":null,"original":{"line":136,"column":20},"generated":{"line":1,"column":1932}},{"source":"../src/linker/index.ts","name":null,"original":{"line":136,"column":28},"generated":{"line":1,"column":1940}},{"source":"../src/linker/index.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":1,"column":1941}},{"source":"../src/linker/index.ts","name":null,"original":{"line":137,"column":8},"generated":{"line":1,"column":1951}},{"source":"../src/linker/index.ts","name":null,"original":{"line":138,"column":8},"generated":{"line":1,"column":1953}},{"source":"../src/linker/index.ts","name":null,"original":{"line":138,"column":8},"generated":{"line":1,"column":1961}},{"source":"../src/linker/index.ts","name":null,"original":{"line":139,"column":8},"generated":{"line":1,"column":1963}},{"source":"../src/linker/index.ts","name":null,"original":{"line":139,"column":17},"generated":{"line":1,"column":1971}},{"source":"../src/linker/index.ts","name":null,"original":{"line":139,"column":18},"generated":{"line":1,"column":1972}},{"source":"../src/linker/index.ts","name":null,"original":{"line":139,"column":28},"generated":{"line":1,"column":1981}},{"source":"../src/linker/index.ts","name":null,"original":{"line":139,"column":34},"generated":{"line":1,"column":1983}},{"source":"../src/linker/index.ts","name":null,"original":{"line":139,"column":38},"generated":{"line":1,"column":1986}},{"source":"../src/linker/index.ts","name":null,"original":{"line":139,"column":49},"generated":{"line":1,"column":1996}},{"source":"../src/linker/index.ts","name":null,"original":{"line":140,"column":8},"generated":{"line":1,"column":2007}},{"source":"../src/linker/index.ts","name":null,"original":{"line":140,"column":17},"generated":{"line":1,"column":2015}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":12},"generated":{"line":1,"column":2016}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":16},"generated":{"line":1,"column":2020}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":16},"generated":{"line":1,"column":2022}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":32},"generated":{"line":1,"column":2038}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":39},"generated":{"line":1,"column":2044}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":39},"generated":{"line":1,"column":2046}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":44},"generated":{"line":1,"column":2050}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":48},"generated":{"line":1,"column":2054}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":48},"generated":{"line":1,"column":2056}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":55},"generated":{"line":1,"column":2063}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":55},"generated":{"line":1,"column":2065}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":60},"generated":{"line":1,"column":2069}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":68},"generated":{"line":1,"column":2076}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":68},"generated":{"line":1,"column":2078}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":84},"generated":{"line":1,"column":2093}},{"source":"../src/linker/index.ts","name":null,"original":{"line":141,"column":84},"generated":{"line":1,"column":2095}},{"source":"../src/linker/index.ts","name":null,"original":{"line":143,"column":8},"generated":{"line":1,"column":2111}},{"source":"../src/linker/index.ts","name":null,"original":{"line":143,"column":8},"generated":{"line":1,"column":2116}},{"source":"../src/linker/index.ts","name":null,"original":{"line":144,"column":8},"generated":{"line":1,"column":2118}},{"source":"../src/linker/index.ts","name":null,"original":{"line":144,"column":24},"generated":{"line":1,"column":2134}},{"source":"../src/linker/index.ts","name":null,"original":{"line":145,"column":8},"generated":{"line":1,"column":2136}},{"source":"../src/linker/index.ts","name":null,"original":{"line":145,"column":27},"generated":{"line":1,"column":2154}},{"source":"../src/linker/index.ts","name":null,"original":{"line":145,"column":33},"generated":{"line":1,"column":2160}},{"source":"../src/linker/index.ts","name":null,"original":{"line":145,"column":38},"generated":{"line":1,"column":2165}},{"source":"../src/linker/index.ts","name":null,"original":{"line":145,"column":56},"generated":{"line":1,"column":2167}},{"source":"../src/linker/index.ts","name":null,"original":{"line":146,"column":7},"generated":{"line":1,"column":2176}},{"source":"../src/linker/index.ts","name":null,"original":{"line":146,"column":7},"generated":{"line":1,"column":2178}},{"source":"../src/linker/index.ts","name":null,"original":{"line":150,"column":10},"generated":{"line":1,"column":2193}},{"source":"../src/linker/index.ts","name":null,"original":{"line":150,"column":20},"generated":{"line":1,"column":2195}},{"source":"../src/linker/index.ts","name":null,"original":{"line":150,"column":24},"generated":{"line":1,"column":2199}},{"source":"../src/linker/index.ts","name":null,"original":{"line":150,"column":24},"generated":{"line":1,"column":2201}},{"source":"../src/linker/index.ts","name":null,"original":{"line":150,"column":36},"generated":{"line":1,"column":2213}},{"source":"../src/linker/index.ts","name":null,"original":{"line":150,"column":50},"generated":{"line":1,"column":2215}},{"source":"../src/linker/index.ts","name":null,"original":{"line":151,"column":4},"generated":{"line":1,"column":2218}},{"source":"../src/linker/index.ts","name":null,"original":{"line":151,"column":8},"generated":{"line":1,"column":2220}},{"source":"../src/linker/index.ts","name":null,"original":{"line":151,"column":17},"generated":{"line":1,"column":2229}},{"source":"../src/linker/index.ts","name":null,"original":{"line":152,"column":4},"generated":{"line":1,"column":2232}},{"source":"../src/linker/index.ts","name":null,"original":{"line":152,"column":8},"generated":{"line":1,"column":2234}},{"source":"../src/linker/index.ts","name":null,"original":{"line":152,"column":13},"generated":{"line":1,"column":2239}},{"source":"../src/linker/index.ts","name":null,"original":{"line":154,"column":4},"generated":{"line":1,"column":2242}},{"source":"../src/linker/index.ts","name":null,"original":{"line":154,"column":10},"generated":{"line":1,"column":2248}},{"source":"../src/linker/index.ts","name":null,"original":{"line":154,"column":24},"generated":{"line":1,"column":2250}},{"source":"../src/linker/index.ts","name":null,"original":{"line":154,"column":28},"generated":{"line":1,"column":2254}},{"source":"../src/linker/index.ts","name":null,"original":{"line":154,"column":28},"generated":{"line":1,"column":2256}},{"source":"../src/linker/index.ts","name":null,"original":{"line":154,"column":40},"generated":{"line":1,"column":2268}},{"source":"../src/linker/index.ts","name":null,"original":{"line":154,"column":54},"generated":{"line":1,"column":2270}},{"source":"../src/linker/index.ts","name":null,"original":{"line":155,"column":4},"generated":{"line":1,"column":2273}},{"source":"../src/linker/index.ts","name":null,"original":{"line":155,"column":8},"generated":{"line":1,"column":2275}},{"source":"../src/linker/index.ts","name":null,"original":{"line":155,"column":17},"generated":{"line":1,"column":2284}},{"source":"../src/linker/index.ts","name":null,"original":{"line":156,"column":4},"generated":{"line":1,"column":2287}},{"source":"../src/linker/index.ts","name":null,"original":{"line":156,"column":8},"generated":{"line":1,"column":2289}},{"source":"../src/linker/index.ts","name":null,"original":{"line":156,"column":13},"generated":{"line":1,"column":2294}},{"source":"../src/linker/index.ts","name":null,"original":{"line":158,"column":4},"generated":{"line":1,"column":2297}},{"source":"../src/linker/index.ts","name":null,"original":{"line":158,"column":8},"generated":{"line":1,"column":2301}},{"source":"../src/linker/index.ts","name":null,"original":{"line":158,"column":19},"generated":{"line":1,"column":2303}},{"source":"../src/linker/index.ts","name":null,"original":{"line":166,"column":4},"generated":{"line":1,"column":2306}},{"source":"../src/linker/index.ts","name":null,"original":{"line":159,"column":8},"generated":{"line":1,"column":2313}},{"source":"../src/linker/index.ts","name":null,"original":{"line":159,"column":15},"generated":{"line":1,"column":2315}},{"source":"../src/linker/index.ts","name":null,"original":{"line":161,"column":8},"generated":{"line":1,"column":2323}},{"source":"../src/linker/index.ts","name":null,"original":{"line":161,"column":19},"generated":{"line":1,"column":2325}},{"source":"../src/linker/index.ts","name":null,"original":{"line":161,"column":19},"generated":{"line":1,"column":2327}},{"source":"../src/linker/index.ts","name":null,"original":{"line":161,"column":32},"generated":{"line":1,"column":2340}},{"source":"../src/linker/index.ts","name":null,"original":{"line":161,"column":44},"generated":{"line":1,"column":2342}},{"source":"../src/linker/index.ts","name":null,"original":{"line":161,"column":55},"generated":{"line":1,"column":2352}},{"source":"../src/linker/index.ts","name":null,"original":{"line":162,"column":8},"generated":{"line":1,"column":2355}},{"source":"../src/linker/index.ts","name":null,"original":{"line":162,"column":16},"generated":{"line":1,"column":2363}},{"source":"../src/linker/index.ts","name":null,"original":{"line":162,"column":20},"generated":{"line":1,"column":2367}},{"source":"../src/linker/index.ts","name":null,"original":{"line":166,"column":11},"generated":{"line":1,"column":2371}},{"source":"../src/linker/index.ts","name":null,"original":{"line":167,"column":8},"generated":{"line":1,"column":2372}},{"source":"../src/linker/index.ts","name":null,"original":{"line":167,"column":8},"generated":{"line":1,"column":2381}},{"source":"../src/linker/index.ts","name":null,"original":{"line":168,"column":8},"generated":{"line":1,"column":2383}},{"source":"../src/linker/index.ts","name":null,"original":{"line":165,"column":64},"generated":{"line":1,"column":2393}},{"source":"../src/linker/index.ts","name":null,"original":{"line":165,"column":23},"generated":{"line":1,"column":2396}},{"source":"../src/linker/index.ts","name":null,"original":{"line":165,"column":33},"generated":{"line":1,"column":2406}},{"source":"../src/linker/index.ts","name":null,"original":{"line":165,"column":42},"generated":{"line":1,"column":2408}},{"source":"../src/linker/index.ts","name":null,"original":{"line":165,"column":47},"generated":{"line":1,"column":2411}},{"source":"../src/linker/index.ts","name":null,"original":{"line":165,"column":59},"generated":{"line":1,"column":2414}},{"source":"../src/linker/index.ts","name":null,"original":{"line":169,"column":8},"generated":{"line":1,"column":2417}},{"source":"../src/linker/index.ts","name":null,"original":{"line":169,"column":15},"generated":{"line":1,"column":2423}},{"source":"../src/linker/index.ts","name":null,"original":{"line":169,"column":21},"generated":{"line":1,"column":2425}},{"source":"../src/linker/index.ts","name":null,"original":{"line":170,"column":8},"generated":{"line":1,"column":2428}},{"source":"../src/linker/index.ts","name":null,"original":{"line":170,"column":8},"generated":{"line":1,"column":2438}},{"source":"../src/linker/index.ts","name":null,"original":{"line":171,"column":8},"generated":{"line":1,"column":2440}},{"source":"../src/linker/index.ts","name":null,"original":{"line":171,"column":8},"generated":{"line":1,"column":2446}},{"source":"../src/linker/index.ts","name":null,"original":{"line":172,"column":8},"generated":{"line":1,"column":2448}},{"source":"../src/linker/index.ts","name":null,"original":{"line":172,"column":16},"generated":{"line":1,"column":2455}},{"source":"../src/linker/index.ts","name":null,"original":{"line":172,"column":24},"generated":{"line":1,"column":2457}},{"source":"../src/linker/index.ts","name":null,"original":{"line":173,"column":8},"generated":{"line":1,"column":2473}},{"source":"../src/linker/index.ts","name":null,"original":{"line":173,"column":14},"generated":{"line":1,"column":2478}},{"source":"../src/linker/index.ts","name":null,"original":{"line":173,"column":26},"generated":{"line":1,"column":2480}},{"source":"../src/linker/index.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":1,"column":2490}},{"source":"../src/linker/index.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":1,"column":2499}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":2502}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":2510}},{"source":"../src/linker/index.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":2515}}],"sources":{"../src/linker/index.ts":"/// <reference path=\"../../node_modules/@types/webassembly-js-api/index.d.ts\" />\n\nimport {LinkerError} from \"../common/error\";\nimport {EmptyLocation} from \"../common/node\";\nimport {BinaryObject, CompiledObject, SourceMap} from \"../common/object\";\nimport {ImportObject} from \"../runtime/runtime\";\nimport {\n    i32, JSONEmitter,\n    u32,\n    WASMEmitter,\n    WCall,\n    WConst, WDataSegment,\n    WFunction, WGetGlobal, WGetLocal,\n    WGlobalVariable,\n    WImportFunction, WImportItem, WImportMemory,\n    WModule, WReturn, WSetGlobal,\n    WType,\n} from \"../wasm\";\nimport {dumpWASMJSON} from \"../wasm/tool/dumper\";\n\n/**\n *  @file\n *  @author zcy <zurl@live.com>\n *  Created at 15/07/2018\n */\n\nexport interface LinkOptions {\n    debug?: boolean;\n}\n\nexport function link(fileName: string, objects: CompiledObject[], option: LinkOptions): BinaryObject {\n    const importObjects: string[] = [];\n    const imports: WImportItem[] = [];\n    const functions: WFunction[] = [];\n    const data: WDataSegment[] = [];\n    const initFuncNames: string[] = [];\n    const externVarMap = new Map<string, number>();\n    const sourceMap = new Map<string, SourceMap>();\n    const requiredFuncTypes = new Set<string>();\n\n    // 0. construct sourceMap\n    for (const object of objects) {\n        sourceMap.set(object.fileName, {\n            source: object.source!.split(\"\\n\"),\n            sourceMap: object.sourceMap!,\n            lastLine: 0,\n        });\n        Array.from(object.requiredWASMFuncTypes.keys())\n            .map((x) => requiredFuncTypes.add(x));\n    }\n\n    const entry = [];\n\n    // 1. set function dataStart && bssStart\n    let dataNow = 0;\n    for (const object of objects) {\n        for (const func of object.functions) {\n            func.dataStart = dataNow;\n            func.fileName = object.fileName;\n            if (/^::main@.*/.test(func.name)) {\n                entry.push(func.name);\n            }\n            functions.push(func);\n        }\n        data.push(new WDataSegment(dataNow, object.data.slice(0, object.dataSize), EmptyLocation));\n        const initFuncName = `$init$${object.fileName}`;\n        const initFunc = new WFunction(initFuncName, initFuncName,\n            [], [], [], object.globalStatements, EmptyLocation);\n        initFunc.dataStart = dataNow;\n        functions.push(initFunc);\n        initFuncNames.push(initFuncName);\n        dataNow += object.dataSize;\n    }\n\n    let bssNow = dataNow;\n    for (const object of objects) {\n        for (const func of object.functions) {\n            func.bssStart = bssNow;\n        }\n        bssNow += object.dataSize;\n    }\n\n    const startFunc = new WFunction(\"$start\", \"__start\", [], [], [],\n        initFuncNames.map((name) => new WCall(name, [], [], EmptyLocation)), EmptyLocation);\n    functions.push(startFunc);\n\n    // 2. build extern map\n\n    for (const object of objects) {\n        for (const symbol of object.exports) {\n            const item = externVarMap.get(symbol.name);\n            if ( item ) {\n                throw new LinkerError(`duplicated symbol of ${symbol.name}`);\n            }\n            externVarMap.set(symbol.name, symbol.location);\n        }\n    }\n\n    // 3. merge import obj\n    for (const object of objects) {\n        for (const item of object.imports) {\n            if ( !importObjects.includes(item.name)) {\n                importObjects.push(item.name);\n                imports.push(new WImportFunction(\"system\", item.name,\n                    item.type.returnTypes, item.type.parameters, EmptyLocation));\n            }\n        }\n    }\n\n    // 4. merge scope map\n\n    // Nope, we use only the main scope\n    const scope = objects[objects.length - 1].scope;\n\n    // 5. add import memory\n\n    imports.push(new WImportMemory(\"system\", \"memory\", 1, 10, EmptyLocation));\n\n    functions.push(new WFunction(\"$get_sp\", \"get_sp\", [WType.u32], [], [], [\n        new WReturn(new WGetGlobal(WType.u32,  \"$sp\", EmptyLocation), EmptyLocation),\n    ], EmptyLocation));\n\n    functions.push(new WFunction(\"$set_sp\", \"set_sp\", [], [WType.u32], [], [\n        new WSetGlobal(WType.u32,  \"$sp\", new WGetLocal(WType.u32, 0, EmptyLocation), EmptyLocation),\n    ], EmptyLocation));\n\n    if ( entry.length === 0) {\n        throw new LinkerError(`no main function found`);\n    }\n\n    if (entry.length > 1) {\n        throw new LinkerError(`multiple main function found`);\n    }\n\n    // 6. generate target code\n    const mod = new WModule({\n        functions,\n        imports,\n        exports: [\"$start\", entry[0], \"$get_sp\", \"$set_sp\"],\n        globals: [\n            new WGlobalVariable(\"$sp\", u32, new WConst(u32, \"1000\", EmptyLocation), EmptyLocation),\n        ],\n        data,\n        generateMemory: false,\n        requiredFuncTypes: Array.from(requiredFuncTypes.keys()),\n    }, EmptyLocation);\n\n    // fs.writeFileSync(\"ast.wast\", printWNode(mod), \"utf-8\");\n\n    const emitter = new WASMEmitter(externVarMap, sourceMap);\n    mod.optimize(emitter);\n    mod.emit(emitter);\n\n    const jsonEmitter = new JSONEmitter(externVarMap, sourceMap);\n    mod.optimize(jsonEmitter);\n    mod.emit(jsonEmitter);\n\n    let dumpInfo = \"\";\n    if (option.debug) {\n        // TODO::\n        dumpInfo = dumpWASMJSON(jsonEmitter.getJSON(), sourceMap);\n        console.log(dumpInfo);\n    }\n\n    const heapStart = (parseInt((bssNow + 1) / 4 as any) + 1) * 4;\n    return {\n        fileName,\n        heapStart,\n        entry: entry[0],\n        sourceMap,\n        scope,\n        binary: emitter.toArrayBuffer(),\n        json: jsonEmitter.getJSON(),\n        dumpInfo,\n    };\n}\n"},"lineCount":null}},"error":null,"hash":"70829e2dee7b8f9681dfb5c1ddd41cae","cacheData":{"env":{}}}