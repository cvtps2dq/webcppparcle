{"id":"r5Cf","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209},{"name":"../tool/constant","loc":{"line":4,"column":27,"index":128},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/expression/wload.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/tool/constant.ts"},{"name":"./wbinary_operation","loc":{"line":5,"column":36,"index":185},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/expression/wload.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/expression/wbinary_operation.ts"},{"name":"./wconst","loc":{"line":6,"column":25,"index":234},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/expression/wload.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/expression/wconst.ts"},{"name":"./wexpression","loc":{"line":7,"column":30,"index":277},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/expression/wload.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/expression/wexpression.ts"},{"name":"../emitter/json_emitter","loc":{"line":8,"column":31,"index":326},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/expression/wload.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/emitter/json_emitter.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.WLoad=void 0;const e=require(\"../tool/constant\"),t=require(\"./wbinary_operation\"),s=require(\"./wconst\"),r=require(\"./wexpression\"),i=require(\"../emitter/json_emitter\");class o extends r.WExpression{constructor(e,t,s=r.WMemoryLocation.RAW,i){super(i),this.type=e,this.address=t,this.form=s,this.offset=0,this.offsetName=\"\"}getOp(){switch(this.type){case e.WType.u8:return e.I32.load8_u;case e.WType.u16:return e.I32.load16_u;case e.WType.i8:return e.I32.load8_s;case e.WType.i16:return e.I32.load16_s;case e.WType.i32:case e.WType.u32:return e.I32.load;case e.WType.f32:return e.F32.load;case e.WType.f64:return e.F64.load;case e.WType.i64:case e.WType.u64:return e.I64.load}}emit(t){let s=this.offset;this.form===r.WMemoryLocation.DATA?s+=t.ctx.getCurrentFunc().dataStart:this.form===r.WMemoryLocation.BSS?s+=t.ctx.getCurrentFunc().bssStart:this.form===r.WMemoryLocation.EXTERN&&(s+=t.ctx.getExternLocation(this.offsetName)),s<0&&(this.replaceAddress(),s=0),this.address.emit(t),t.emitIns(this.getOp(),e.WType.u32,s,this.location,!0),t instanceof i.JSONEmitter&&t.memoryInfo.push([t.insBuffer.length,this.form,this.offset])}replaceAddress(){this.address=new t.WBinaryOperation(e.I32Binary.add,this.address,new s.WConst(e.WType.i32,this.offset.toString(),this.location),this.location),this.offset=0}deduceType(e){return this.type}fold(){return this.address=this.address.fold(),this}isPure(){return this.address.isPure()}}exports.WLoad=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":87}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":89}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":95}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":97}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":105}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":125}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":127}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":135}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":158}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":160}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":168}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":180}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":182}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":190}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":207}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":209}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":217}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":244}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":250}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":27},"generated":{"line":1,"column":260}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":27},"generated":{"line":1,"column":262}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":274}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":286}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":288}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":17,"column":16},"generated":{"line":1,"column":290}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":1,"column":292}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":1,"column":294}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":17,"column":56},"generated":{"line":1,"column":310}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":17,"column":61},"generated":{"line":1,"column":314}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":18,"column":8},"generated":{"line":1,"column":317}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":18,"column":14},"generated":{"line":1,"column":323}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":326}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":19,"column":13},"generated":{"line":1,"column":331}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":19,"column":20},"generated":{"line":1,"column":336}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":338}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":20,"column":13},"generated":{"line":1,"column":343}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":20,"column":23},"generated":{"line":1,"column":351}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":1,"column":353}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":1,"column":358}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":21,"column":20},"generated":{"line":1,"column":363}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":1,"column":365}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":370}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":22,"column":22},"generated":{"line":1,"column":377}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":379}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":384}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":23,"column":26},"generated":{"line":1,"column":395}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":398}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":406}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":413}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":1,"column":418}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":424}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":429}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":431}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":28,"column":23},"generated":{"line":1,"column":437}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":28,"column":27},"generated":{"line":1,"column":440}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":28,"column":34},"generated":{"line":1,"column":447}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":28,"column":34},"generated":{"line":1,"column":449}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":28,"column":38},"generated":{"line":1,"column":453}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":461}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":29,"column":17},"generated":{"line":1,"column":466}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":29,"column":17},"generated":{"line":1,"column":468}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":474}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":29,"column":28},"generated":{"line":1,"column":478}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":29,"column":35},"generated":{"line":1,"column":485}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":29,"column":35},"generated":{"line":1,"column":487}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":29,"column":39},"generated":{"line":1,"column":491}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":500}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":30,"column":17},"generated":{"line":1,"column":505}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":30,"column":17},"generated":{"line":1,"column":507}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":30,"column":23},"generated":{"line":1,"column":513}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":516}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":30,"column":34},"generated":{"line":1,"column":523}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":30,"column":34},"generated":{"line":1,"column":525}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":529}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":537}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":31,"column":17},"generated":{"line":1,"column":542}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":31,"column":17},"generated":{"line":1,"column":544}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":31,"column":23},"generated":{"line":1,"column":550}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":554}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":1,"column":561}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":1,"column":563}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":1,"column":567}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":576}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":32,"column":17},"generated":{"line":1,"column":581}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":32,"column":17},"generated":{"line":1,"column":583}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":1,"column":589}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":593}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":33,"column":17},"generated":{"line":1,"column":598}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":33,"column":17},"generated":{"line":1,"column":600}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":606}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":33,"column":28},"generated":{"line":1,"column":610}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":1,"column":617}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":1,"column":619}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":33,"column":39},"generated":{"line":1,"column":623}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":628}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":34,"column":17},"generated":{"line":1,"column":633}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":34,"column":17},"generated":{"line":1,"column":635}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":641}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":34,"column":28},"generated":{"line":1,"column":645}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":652}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":654}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":1,"column":658}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":663}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":1,"column":668}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":1,"column":670}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":1,"column":676}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":35,"column":28},"generated":{"line":1,"column":680}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":35,"column":35},"generated":{"line":1,"column":687}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":35,"column":35},"generated":{"line":1,"column":689}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":35,"column":39},"generated":{"line":1,"column":693}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":698}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":36,"column":17},"generated":{"line":1,"column":703}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":36,"column":17},"generated":{"line":1,"column":705}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":711}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":715}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":37,"column":17},"generated":{"line":1,"column":720}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":37,"column":17},"generated":{"line":1,"column":722}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":1,"column":728}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":37,"column":28},"generated":{"line":1,"column":732}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":739}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":741}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":37,"column":39},"generated":{"line":1,"column":745}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":41,"column":11},"generated":{"line":1,"column":751}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":756}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":759}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":763}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":765}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":770}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":777}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":782}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":1,"column":789}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":1,"column":791}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":43,"column":43},"generated":{"line":1,"column":807}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":812}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":44,"column":22},"generated":{"line":1,"column":815}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":44,"column":24},"generated":{"line":1,"column":817}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":44,"column":28},"generated":{"line":1,"column":821}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":44,"column":45},"generated":{"line":1,"column":838}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":848}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":45,"column":25},"generated":{"line":1,"column":853}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":860}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":862}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":1,"column":878}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":882}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":46,"column":22},"generated":{"line":1,"column":885}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":46,"column":24},"generated":{"line":1,"column":887}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":46,"column":28},"generated":{"line":1,"column":891}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":46,"column":45},"generated":{"line":1,"column":908}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":47,"column":20},"generated":{"line":1,"column":917}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":47,"column":25},"generated":{"line":1,"column":922}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":1,"column":929}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":1,"column":931}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":47,"column":50},"generated":{"line":1,"column":947}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":956}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":1,"column":959}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":48,"column":24},"generated":{"line":1,"column":961}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":48,"column":28},"generated":{"line":1,"column":965}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":48,"column":46},"generated":{"line":1,"column":983}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":48,"column":51},"generated":{"line":1,"column":988}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":1,"column":1001}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":1,"column":1003}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":1007}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":51,"column":17},"generated":{"line":1,"column":1012}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":1029}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":52,"column":21},"generated":{"line":1,"column":1031}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":1034}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":1,"column":1039}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":54,"column":21},"generated":{"line":1,"column":1047}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":1052}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":1055}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":10},"generated":{"line":1,"column":1057}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":18},"generated":{"line":1,"column":1065}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":23},"generated":{"line":1,"column":1070}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":42},"generated":{"line":1,"column":1078}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":42},"generated":{"line":1,"column":1080}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":48},"generated":{"line":1,"column":1086}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":53},"generated":{"line":1,"column":1090}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":61},"generated":{"line":1,"column":1092}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":66},"generated":{"line":1,"column":1097}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":55,"column":76},"generated":{"line":1,"column":1107}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":1110}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":56,"column":24},"generated":{"line":1,"column":1123}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":56,"column":24},"generated":{"line":1,"column":1125}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":12},"generated":{"line":1,"column":1138}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":1,"column":1140}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":25},"generated":{"line":1,"column":1151}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":30},"generated":{"line":1,"column":1156}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":31},"generated":{"line":1,"column":1157}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":33},"generated":{"line":1,"column":1159}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":43},"generated":{"line":1,"column":1169}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":51},"generated":{"line":1,"column":1176}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":56},"generated":{"line":1,"column":1181}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":62},"generated":{"line":1,"column":1186}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":57,"column":67},"generated":{"line":1,"column":1191}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":61,"column":11},"generated":{"line":1,"column":1200}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":1217}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":1222}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":62,"column":23},"generated":{"line":1,"column":1230}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":62,"column":27},"generated":{"line":1,"column":1234}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":62,"column":27},"generated":{"line":1,"column":1236}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":62,"column":44},"generated":{"line":1,"column":1253}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":62,"column":44},"generated":{"line":1,"column":1255}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":62,"column":54},"generated":{"line":1,"column":1265}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":1,"column":1269}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":1274}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":1,"column":1282}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":1286}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":1288}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":1295}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":1297}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":29},"generated":{"line":1,"column":1303}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":34},"generated":{"line":1,"column":1307}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":39},"generated":{"line":1,"column":1312}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":46},"generated":{"line":1,"column":1319}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":58},"generated":{"line":1,"column":1330}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":64,"column":63},"generated":{"line":1,"column":1335}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":65,"column":12},"generated":{"line":1,"column":1345}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":65,"column":17},"generated":{"line":1,"column":1350}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":1360}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":66,"column":13},"generated":{"line":1,"column":1365}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":66,"column":22},"generated":{"line":1,"column":1372}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":1374}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":69,"column":22},"generated":{"line":1,"column":1385}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":1388}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":1395}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":1400}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":73,"column":11},"generated":{"line":1,"column":1405}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":1,"column":1412}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1419}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":74,"column":13},"generated":{"line":1,"column":1424}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":74,"column":23},"generated":{"line":1,"column":1432}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":74,"column":28},"generated":{"line":1,"column":1437}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":74,"column":36},"generated":{"line":1,"column":1445}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":75,"column":15},"generated":{"line":1,"column":1452}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":1457}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":1466}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":79,"column":15},"generated":{"line":1,"column":1473}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":79,"column":20},"generated":{"line":1,"column":1478}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":79,"column":28},"generated":{"line":1,"column":1486}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1496}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1504}},{"source":"../src/wasm/expression/wload.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1510}}],"sources":{"../src/wasm/expression/wload.ts":"import {SourceLocation} from \"../../common/node\";\nimport {Emitter} from \"../emitter/emitter\";\nimport {F32, F64, I32, I32Binary, I64, WType} from \"../tool/constant\";\nimport {WBinaryOperation} from \"./wbinary_operation\";\nimport {WConst} from \"./wconst\";\nimport {WExpression, WMemoryLocation} from \"./wexpression\";\nimport {JSONEmitter} from \"../emitter/json_emitter\";\n\nexport class WLoad extends WExpression {\n    public type: WType;\n    public address: WExpression;\n    public offset: number;\n    public offsetName: string;\n    public form: WMemoryLocation;\n\n    constructor(type: WType, address: WExpression,\n                form: WMemoryLocation = WMemoryLocation.RAW, location: SourceLocation) {\n        super(location);\n        this.type = type;\n        this.address = address;\n        this.form = form;\n        this.offset = 0;\n        this.offsetName = \"\";\n    }\n\n    public getOp() {\n        switch (this.type) {\n            case WType.u8: return I32.load8_u;\n            case WType.u16: return I32.load16_u;\n            case WType.i8: return I32.load8_s;\n            case WType.i16: return I32.load16_s;\n            case WType.i32:\n            case WType.u32: return I32.load;\n            case WType.f32: return F32.load;\n            case WType.f64: return F64.load;\n            case WType.i64:\n            case WType.u64: return I64.load;\n        }\n    }\n\n    public emit(e: Emitter): void {\n        let offset = this.offset;\n        if ( this.form === WMemoryLocation.DATA ) {\n            offset += e.ctx.getCurrentFunc().dataStart;\n        } else if ( this.form === WMemoryLocation.BSS ) {\n            offset += e.ctx.getCurrentFunc().bssStart;\n        } else if ( this.form === WMemoryLocation.EXTERN ) {\n            offset += e.ctx.getExternLocation(this.offsetName);\n        }\n        if ( offset < 0 ) {\n            this.replaceAddress();\n            offset = 0;\n        }\n        this.address.emit(e);\n        e.emitIns(this.getOp() as number, WType.u32, offset, this.location, true);\n        if(e instanceof JSONEmitter){\n            e.memoryInfo.push([e.insBuffer.length, this.form, this.offset]);\n        }\n    }\n\n    public replaceAddress() {\n        this.address = new WBinaryOperation(I32Binary.add,\n            this.address,\n            new WConst(WType.i32, this.offset.toString(), this.location),\n            this.location);\n        this.offset = 0;\n    }\n\n    public deduceType(e: Emitter): WType {\n        return this.type;\n    }\n\n    public fold(): WExpression {\n        this.address = this.address.fold();\n        return this;\n    }\n\n    public isPure(): boolean {\n        return this.address.isPure();\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"e54333b8da32eb2b3e01b7ef9208ab1f","cacheData":{"env":{}}}