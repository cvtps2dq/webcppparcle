{"id":"eiWo","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209},{"name":"../../common/error","loc":{"line":4,"column":24,"index":134},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/using_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/error.ts"},{"name":"../../common/node","loc":{"line":5,"column":23,"index":180},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/using_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/node.ts"},{"name":"../scope","loc":{"line":6,"column":24,"index":226},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/using_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/scope.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.UsingStatement=void 0;const e=require(\"../../common/error\"),t=require(\"../../common/node\"),s=require(\"../scope\");class n extends t.ClassDirective{constructor(e,t,s){super(e),this.name=t,this.type=s}codegen(t){if(this.type){const e=this.type.deduceType(t);t.scopeManager.define(this.name.getPlainName(t),e,this)}else{const n=t.scopeManager.lookup(this.name.getLookupName(t));if(null===n)throw new e.SyntaxError(`undefine symbol ${this.name.name}`,this);n instanceof s.FunctionLookUpResult?n.functions.map(e=>t.scopeManager.define(e.shortName.split(\"@\")[0],e,this)):t.scopeManager.define(this.name.getPlainName(t),n,this)}}declare(e,t){this.codegen(e)}}exports.UsingStatement=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":96}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":106}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":114}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":136}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":138}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":146}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":167}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":169}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":177}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":189}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":195}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":1,"column":205}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":1,"column":207}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":222}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":234}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":13,"column":42},"generated":{"line":1,"column":236}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":13,"column":60},"generated":{"line":1,"column":238}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":241}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":14,"column":14},"generated":{"line":1,"column":247}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":250}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":255}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":15,"column":20},"generated":{"line":1,"column":260}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":262}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":16,"column":13},"generated":{"line":1,"column":267}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":1,"column":272}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":1,"column":274}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":282}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":285}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":288}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":20,"column":17},"generated":{"line":1,"column":293}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":20,"column":23},"generated":{"line":1,"column":298}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":1,"column":299}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":21,"column":18},"generated":{"line":1,"column":305}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":21,"column":25},"generated":{"line":1,"column":307}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":21,"column":30},"generated":{"line":1,"column":312}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":21,"column":35},"generated":{"line":1,"column":317}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":21,"column":46},"generated":{"line":1,"column":328}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":331}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":16},"generated":{"line":1,"column":333}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":346}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":36},"generated":{"line":1,"column":353}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":41},"generated":{"line":1,"column":358}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":46},"generated":{"line":1,"column":363}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":59},"generated":{"line":1,"column":376}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":65},"generated":{"line":1,"column":379}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":22,"column":71},"generated":{"line":1,"column":381}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":1,"column":391}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":392}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":18},"generated":{"line":1,"column":398}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":25},"generated":{"line":1,"column":400}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":29},"generated":{"line":1,"column":402}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":42},"generated":{"line":1,"column":415}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":49},"generated":{"line":1,"column":422}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":54},"generated":{"line":1,"column":427}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":59},"generated":{"line":1,"column":432}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":24,"column":73},"generated":{"line":1,"column":446}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":25,"column":12},"generated":{"line":1,"column":450}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":25,"column":26},"generated":{"line":1,"column":453}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":460}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":462}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":1,"column":468}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":1,"column":472}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":1,"column":474}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":26,"column":57},"generated":{"line":1,"column":505}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":26,"column":62},"generated":{"line":1,"column":510}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":26,"column":67},"generated":{"line":1,"column":515}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":26,"column":75},"generated":{"line":1,"column":522}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":528}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":28,"column":33},"generated":{"line":1,"column":541}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":28,"column":33},"generated":{"line":1,"column":543}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":564}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":566}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":576}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":36},"generated":{"line":1,"column":580}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":45},"generated":{"line":1,"column":583}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":49},"generated":{"line":1,"column":585}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":62},"generated":{"line":1,"column":598}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":69},"generated":{"line":1,"column":605}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":74},"generated":{"line":1,"column":607}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":84},"generated":{"line":1,"column":617}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":90},"generated":{"line":1,"column":623}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":95},"generated":{"line":1,"column":628}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":99},"generated":{"line":1,"column":631}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":29,"column":105},"generated":{"line":1,"column":633}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":1,"column":640}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":20},"generated":{"line":1,"column":642}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":33},"generated":{"line":1,"column":655}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":40},"generated":{"line":1,"column":662}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":45},"generated":{"line":1,"column":667}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":50},"generated":{"line":1,"column":672}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":63},"generated":{"line":1,"column":685}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":69},"generated":{"line":1,"column":688}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":31,"column":75},"generated":{"line":1,"column":690}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":697}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":36,"column":19},"generated":{"line":1,"column":705}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":36,"column":40},"generated":{"line":1,"column":707}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":710}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":715}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":37,"column":21},"generated":{"line":1,"column":723}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":727}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":735}},{"source":"../src/codegen/statement/using_statement.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":750}}],"sources":{"../src/codegen/statement/using_statement.ts":"import {SyntaxError} from \"../../common/error\";\nimport {ClassDirective, SourceLocation} from \"../../common/node\";\nimport {ClassType} from \"../../type/class_type\";\nimport {TypeName} from \"../class/type_name\";\nimport {CompileContext} from \"../context\";\nimport {Identifier} from \"../expression/identifier\";\nimport {FunctionLookUpResult} from \"../scope\";\n\nexport class UsingStatement extends ClassDirective {\n    public name: Identifier;\n    public type: TypeName | null;\n\n    constructor(location: SourceLocation, name: Identifier, type: TypeName | null) {\n        super(location);\n        this.name = name;\n        this.type = type;\n    }\n\n    public codegen(ctx: CompileContext): void {\n        if (this.type) {\n            const type = this.type.deduceType(ctx);\n            ctx.scopeManager.define(this.name.getPlainName(ctx), type, this);\n        } else {\n            const item = ctx.scopeManager.lookup(this.name.getLookupName(ctx));\n            if ( item === null ) {\n                throw new SyntaxError(`undefine symbol ${this.name.name}`, this);\n            }\n            if ( item instanceof FunctionLookUpResult ) {\n                item.functions.map((func) => ctx.scopeManager.define(func.shortName.split(\"@\")[0], func, this));\n            } else {\n                ctx.scopeManager.define(this.name.getPlainName(ctx), item, this);\n            }\n        }\n    }\n\n    public declare(ctx: CompileContext, classType: ClassType): void {\n        this.codegen(ctx);\n    }\n\n}\n"},"lineCount":null}},"error":null,"hash":"69881bb2c4906ab08cd1787ee0e783dd","cacheData":{"env":{}}}