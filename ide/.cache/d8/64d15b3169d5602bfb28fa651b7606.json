{"id":"INFt","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209},{"name":"../../common/error","loc":{"line":4,"column":24,"index":141},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/error.ts"},{"name":"../../common/symbol","loc":{"line":5,"column":25,"index":189},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/symbol.ts"},{"name":"../../type/class_type","loc":{"line":6,"column":29,"index":242},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/type/class_type.ts"},{"name":"../../type/compound_type","loc":{"line":7,"column":32,"index":300},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/type/compound_type.ts"},{"name":"../../type/primitive_type","loc":{"line":8,"column":33,"index":362},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/type/primitive_type.ts"},{"name":"../../wasm","loc":{"line":9,"column":23,"index":415},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/index.ts"},{"name":"../address","loc":{"line":10,"column":26,"index":456},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/address.ts"},{"name":"../conversion","loc":{"line":11,"column":29,"index":500},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/conversion.ts"},{"name":"./expression","loc":{"line":12,"column":29,"index":547},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/conditional_expression.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/expression/expression.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ConditionalExpression=void 0;const e=require(\"../../common/error\"),t=require(\"../../common/symbol\"),s=require(\"../../type/class_type\"),i=require(\"../../type/compound_type\"),o=require(\"../../type/primitive_type\"),n=require(\"../../wasm\"),r=require(\"../address\"),c=require(\"../conversion\"),d=require(\"./expression\");class p extends d.Expression{constructor(e,t,s,i){super(e),this.test=t,this.consequent=s,this.alternate=i}codegen(e){const d=c.doConversion(e,o.PrimitiveTypes.int32,this.test.codegen(e),this),p=this.deduceType(e),a=this.consequent.codegen(e),u=this.alternate.codegen(e);if(p instanceof s.ClassType){const s=new i.LeftReferenceType(p);return{type:s,expr:new r.WAddressHolder(new n.WConditionalExpression(d,c.doConversion(e,s,a,this,!1,!0),c.doConversion(e,s,u,this,!1,!0),this.location),t.AddressType.RVALUE,this.location),isLeft:!0}}return{type:p,expr:new n.WConditionalExpression(d,c.doConversion(e,p,a,this),c.doConversion(e,p,u,this),this.location),isLeft:!1}}deduceType(t){const s=c.doTypeTransfrom(this.consequent.deduceType(t)),i=c.doTypeTransfrom(this.alternate.deduceType(t));if(s instanceof o.ArithmeticType&&i instanceof o.ArithmeticType)return c.arithmeticDeduce(s,i);if(s.equals(i))return s;throw new e.SyntaxError(\"the type between conditional expression is not same\",this)}}exports.ConditionalExpression=p;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":103}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":111}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":113}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":121}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":143}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":145}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":153}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":176}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":178}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":186}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":211}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":213}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":221}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":249}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":251}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":259}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":288}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":290}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":298}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":312}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":314}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":322}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":336}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":338}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":346}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":363}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":365}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":373}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":389}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":13},"generated":{"line":1,"column":395}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":43},"generated":{"line":1,"column":405}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":43},"generated":{"line":1,"column":407}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":418}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":19,"column":16},"generated":{"line":1,"column":430}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":19,"column":42},"generated":{"line":1,"column":432}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":19,"column":60},"generated":{"line":1,"column":434}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":19,"column":84},"generated":{"line":1,"column":436}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":439}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":20,"column":14},"generated":{"line":1,"column":445}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":1,"column":448}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":1,"column":453}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":21,"column":20},"generated":{"line":1,"column":458}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":1,"column":460}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":465}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":22,"column":26},"generated":{"line":1,"column":476}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":478}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":483}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":23,"column":25},"generated":{"line":1,"column":493}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":495}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":503}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":506}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":14},"generated":{"line":1,"column":512}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":1,"column":514}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":1,"column":516}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":34},"generated":{"line":1,"column":529}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":39},"generated":{"line":1,"column":531}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":39},"generated":{"line":1,"column":533}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":54},"generated":{"line":1,"column":548}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":61},"generated":{"line":1,"column":554}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":66},"generated":{"line":1,"column":559}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":71},"generated":{"line":1,"column":564}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":572}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":27,"column":85},"generated":{"line":1,"column":575}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":28,"column":14},"generated":{"line":1,"column":581}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":28,"column":27},"generated":{"line":1,"column":583}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":28,"column":32},"generated":{"line":1,"column":588}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":28,"column":43},"generated":{"line":1,"column":599}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":30,"column":14},"generated":{"line":1,"column":602}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":604}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":30,"column":26},"generated":{"line":1,"column":609}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":30,"column":37},"generated":{"line":1,"column":620}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":30,"column":45},"generated":{"line":1,"column":628}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":31,"column":14},"generated":{"line":1,"column":631}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":1,"column":633}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":31,"column":27},"generated":{"line":1,"column":638}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":31,"column":37},"generated":{"line":1,"column":648}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":31,"column":45},"generated":{"line":1,"column":656}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":659}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":662}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":1,"column":675}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":1,"column":677}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":32,"column":45},"generated":{"line":1,"column":687}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":688}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":1,"column":694}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":33,"column":28},"generated":{"line":1,"column":696}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":33,"column":32},"generated":{"line":1,"column":700}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":33,"column":32},"generated":{"line":1,"column":702}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":33,"column":50},"generated":{"line":1,"column":720}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":723}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":729}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":1,"column":730}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":35,"column":22},"generated":{"line":1,"column":735}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":737}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":36,"column":22},"generated":{"line":1,"column":742}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":36,"column":26},"generated":{"line":1,"column":746}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":36,"column":26},"generated":{"line":1,"column":748}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":36,"column":41},"generated":{"line":1,"column":763}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":36,"column":45},"generated":{"line":1,"column":767}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":36,"column":45},"generated":{"line":1,"column":769}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":1,"column":792}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":38,"column":20},"generated":{"line":1,"column":794}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":38,"column":20},"generated":{"line":1,"column":796}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":38,"column":33},"generated":{"line":1,"column":809}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":1,"column":811}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":38,"column":47},"generated":{"line":1,"column":813}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":38,"column":53},"generated":{"line":1,"column":815}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":38,"column":59},"generated":{"line":1,"column":821}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":38,"column":66},"generated":{"line":1,"column":824}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":39,"column":20},"generated":{"line":1,"column":827}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":39,"column":20},"generated":{"line":1,"column":829}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":39,"column":33},"generated":{"line":1,"column":842}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":39,"column":38},"generated":{"line":1,"column":844}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":39,"column":47},"generated":{"line":1,"column":846}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":39,"column":54},"generated":{"line":1,"column":848}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":39,"column":60},"generated":{"line":1,"column":854}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":39,"column":67},"generated":{"line":1,"column":857}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":40,"column":20},"generated":{"line":1,"column":860}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":865}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":41,"column":19},"generated":{"line":1,"column":875}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":41,"column":19},"generated":{"line":1,"column":877}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":41,"column":31},"generated":{"line":1,"column":889}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":896}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":41,"column":44},"generated":{"line":1,"column":901}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":1,"column":911}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":42,"column":24},"generated":{"line":1,"column":919}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":922}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":45,"column":19},"generated":{"line":1,"column":928}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":46,"column":16},"generated":{"line":1,"column":929}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":46,"column":22},"generated":{"line":1,"column":934}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":1,"column":936}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":47,"column":22},"generated":{"line":1,"column":941}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":47,"column":26},"generated":{"line":1,"column":945}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":47,"column":26},"generated":{"line":1,"column":947}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":1,"column":970}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":49,"column":20},"generated":{"line":1,"column":972}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":49,"column":20},"generated":{"line":1,"column":974}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":49,"column":33},"generated":{"line":1,"column":987}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":49,"column":38},"generated":{"line":1,"column":989}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":49,"column":50},"generated":{"line":1,"column":991}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":49,"column":56},"generated":{"line":1,"column":993}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":999}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":1001}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":50,"column":33},"generated":{"line":1,"column":1014}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":50,"column":38},"generated":{"line":1,"column":1016}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":50,"column":50},"generated":{"line":1,"column":1018}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":50,"column":57},"generated":{"line":1,"column":1020}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":51,"column":20},"generated":{"line":1,"column":1026}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":51,"column":25},"generated":{"line":1,"column":1031}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":1041}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":53,"column":24},"generated":{"line":1,"column":1049}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":1052}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":58,"column":22},"generated":{"line":1,"column":1063}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":1066}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":59,"column":14},"generated":{"line":1,"column":1072}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":59,"column":25},"generated":{"line":1,"column":1074}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":59,"column":25},"generated":{"line":1,"column":1076}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":59,"column":41},"generated":{"line":1,"column":1092}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":59,"column":46},"generated":{"line":1,"column":1097}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":59,"column":57},"generated":{"line":1,"column":1108}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":59,"column":68},"generated":{"line":1,"column":1119}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":1123}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":60,"column":26},"generated":{"line":1,"column":1125}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":60,"column":26},"generated":{"line":1,"column":1127}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":60,"column":42},"generated":{"line":1,"column":1143}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":60,"column":47},"generated":{"line":1,"column":1148}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":60,"column":57},"generated":{"line":1,"column":1158}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":60,"column":68},"generated":{"line":1,"column":1169}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":1173}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":61,"column":12},"generated":{"line":1,"column":1176}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":61,"column":32},"generated":{"line":1,"column":1189}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":61,"column":32},"generated":{"line":1,"column":1191}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":61,"column":50},"generated":{"line":1,"column":1207}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":61,"column":71},"generated":{"line":1,"column":1220}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":61,"column":71},"generated":{"line":1,"column":1222}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":62,"column":12},"generated":{"line":1,"column":1237}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":62,"column":19},"generated":{"line":1,"column":1244}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":62,"column":19},"generated":{"line":1,"column":1246}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":62,"column":36},"generated":{"line":1,"column":1263}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":62,"column":46},"generated":{"line":1,"column":1265}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":63,"column":15},"generated":{"line":1,"column":1268}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":63,"column":19},"generated":{"line":1,"column":1271}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":1273}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":63,"column":35},"generated":{"line":1,"column":1280}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":1,"column":1283}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":64,"column":19},"generated":{"line":1,"column":1290}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":66,"column":12},"generated":{"line":1,"column":1292}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":66,"column":18},"generated":{"line":1,"column":1298}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":66,"column":22},"generated":{"line":1,"column":1302}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":66,"column":22},"generated":{"line":1,"column":1304}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":66,"column":34},"generated":{"line":1,"column":1316}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":66,"column":89},"generated":{"line":1,"column":1370}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":1377}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":1385}},{"source":"../src/codegen/expression/conditional_expression.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":1407}}],"sources":{"../src/codegen/expression/conditional_expression.ts":"import {SyntaxError} from \"../../common/error\";\nimport {SourceLocation} from \"../../common/node\";\nimport {AddressType} from \"../../common/symbol\";\nimport {Type} from \"../../type\";\nimport {ClassType} from \"../../type/class_type\";\nimport {LeftReferenceType} from \"../../type/compound_type\";\nimport {ArithmeticType, PrimitiveTypes} from \"../../type/primitive_type\";\nimport {WConditionalExpression} from \"../../wasm\";\nimport {WAddressHolder} from \"../address\";\nimport {CompileContext} from \"../context\";\nimport {arithmeticDeduce, doConversion, doTypeTransfrom} from \"../conversion\";\nimport {Expression, ExpressionResult} from \"./expression\";\n\nexport class ConditionalExpression extends Expression {\n    public test: Expression;\n    public consequent: Expression;\n    public alternate: Expression;\n\n    constructor(location: SourceLocation, test: Expression, consequent: Expression, alternate: Expression) {\n        super(location);\n        this.test = test;\n        this.consequent = consequent;\n        this.alternate = alternate;\n    }\n\n    public codegen(ctx: CompileContext): ExpressionResult {\n        const test = doConversion(ctx, PrimitiveTypes.int32, this.test.codegen(ctx), this);\n        const targetType = this.deduceType(ctx);\n\n        const left = this.consequent.codegen(ctx);\n        const right = this.alternate.codegen(ctx);\n        if (targetType instanceof ClassType) {\n            const refType = new LeftReferenceType(targetType);\n            return {\n                type: refType,\n                expr: new WAddressHolder(new WConditionalExpression(\n                    test,\n                    doConversion(ctx, refType, left, this, false, true),\n                    doConversion(ctx, refType, right, this, false, true),\n                    this.location,\n                ), AddressType.RVALUE, this.location),\n                isLeft: true,\n            };\n        } else {\n            return {\n                type: targetType,\n                expr: new WConditionalExpression(\n                    test,\n                    doConversion(ctx, targetType, left, this),\n                    doConversion(ctx, targetType, right, this),\n                    this.location,\n                ),\n                isLeft: false,\n            };\n        }\n    }\n\n    public deduceType(ctx: CompileContext): Type {\n        const leftType = doTypeTransfrom(this.consequent.deduceType(ctx));\n        const rightType = doTypeTransfrom(this.alternate.deduceType(ctx));\n        if (leftType instanceof ArithmeticType && rightType instanceof ArithmeticType) {\n            return arithmeticDeduce(leftType, rightType);\n        } else if (leftType.equals(rightType)) {\n            return leftType;\n        } else {\n            throw new SyntaxError(`the type between conditional expression is not same`, this);\n        }\n    }\n\n}\n"},"lineCount":null}},"error":null,"hash":"8fa20bdc54b3996142ec1f1ce650441f","cacheData":{"env":{}}}