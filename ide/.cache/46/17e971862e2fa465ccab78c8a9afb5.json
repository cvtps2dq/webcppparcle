{"id":"oimA","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209},{"name":"../../common/error","loc":{"line":4,"column":24,"index":154},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/class/enum_specifier.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/error.ts"},{"name":"../../common/node","loc":{"line":5,"column":23,"index":200},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/class/enum_specifier.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/node.ts"},{"name":"../../common/symbol","loc":{"line":6,"column":25,"index":247},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/class/enum_specifier.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/symbol.ts"},{"name":"../../type","loc":{"line":7,"column":23,"index":294},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/class/enum_specifier.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/type/index.ts"},{"name":"../../type/primitive_type","loc":{"line":8,"column":33,"index":342},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/class/enum_specifier.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/type/primitive_type.ts"},{"name":"../../wasm","loc":{"line":9,"column":23,"index":395},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/class/enum_specifier.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/index.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Enumerator=exports.EnumSpecifier=void 0;const e=require(\"../../common/error\"),r=require(\"../../common/node\"),t=require(\"../../common/symbol\"),i=require(\"../../type\"),s=require(\"../../type/primitive_type\"),n=require(\"../../wasm\");class o extends r.Node{constructor(e,r,t){super(e),this.identifier=r,this.enumerators=t}codegen(r){if(null!=this.enumerators){let o=-1,u=0;for(const a of this.enumerators){if(o++,null===a.value)u=o;else{const t=a.value.codegen(r);if(t.expr=t.expr.fold(),!(t.expr instanceof n.WConst&&t.type instanceof s.IntegerType))throw new e.SyntaxError(\"enum value must be integer\",this);u=parseInt(t.expr.constant)}const c=a.identifier.getPlainName(r),p=a.identifier.getFullName(r);r.scopeManager.declare(c,new t.Variable(c,p,r.fileName,s.PrimitiveTypes.int32,t.AddressType.CONSTANT,u,i.AccessControl.Public),this)}}return null!=this.identifier&&r.scopeManager.declare(this.identifier.getLookupName(r),s.PrimitiveTypes.int32,this),s.PrimitiveTypes.int32}}exports.EnumSpecifier=o;class u extends r.Node{constructor(e,r,t){super(e),this.identifier=r,this.value=t}}exports.Enumerator=u;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":87}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":95}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":114}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":116}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":122}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":124}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":132}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":154}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":156}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":164}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":185}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":187}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":195}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":218}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":220}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":228}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":242}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":244}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":252}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":281}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":283}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":291}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":305}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":311}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":11,"column":35},"generated":{"line":1,"column":321}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":11,"column":35},"generated":{"line":1,"column":323}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":328}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":15,"column":16},"generated":{"line":1,"column":340}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":15,"column":42},"generated":{"line":1,"column":342}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":15,"column":66},"generated":{"line":1,"column":344}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":347}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":353}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":356}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":361}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":17,"column":26},"generated":{"line":1,"column":372}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":18,"column":8},"generated":{"line":1,"column":374}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":18,"column":13},"generated":{"line":1,"column":379}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":18,"column":27},"generated":{"line":1,"column":391}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":393}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":21,"column":19},"generated":{"line":1,"column":401}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":1,"column":404}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":22,"column":32},"generated":{"line":1,"column":407}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":413}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":22,"column":17},"generated":{"line":1,"column":418}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":22,"column":38},"generated":{"line":1,"column":430}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":431}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":23,"column":16},"generated":{"line":1,"column":435}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":23,"column":23},"generated":{"line":1,"column":438}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":23,"column":26},"generated":{"line":1,"column":440}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":23,"column":32},"generated":{"line":1,"column":442}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":444}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":24,"column":17},"generated":{"line":1,"column":448}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":24,"column":23},"generated":{"line":1,"column":454}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":24,"column":37},"generated":{"line":1,"column":459}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":24,"column":42},"generated":{"line":1,"column":464}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":24,"column":55},"generated":{"line":1,"column":476}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":477}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":480}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":26,"column":41},"generated":{"line":1,"column":484}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":491}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":26,"column":31},"generated":{"line":1,"column":493}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":27,"column":20},"generated":{"line":1,"column":499}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":27,"column":26},"generated":{"line":1,"column":501}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":28,"column":23},"generated":{"line":1,"column":507}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":1,"column":508}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":1,"column":514}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":516}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":29,"column":44},"generated":{"line":1,"column":518}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":29,"column":50},"generated":{"line":1,"column":524}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":29,"column":58},"generated":{"line":1,"column":532}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":31,"column":20},"generated":{"line":1,"column":535}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":538}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":540}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":545}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":30,"column":37},"generated":{"line":1,"column":547}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":30,"column":42},"generated":{"line":1,"column":552}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":1,"column":561}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":31,"column":31},"generated":{"line":1,"column":563}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":31,"column":47},"generated":{"line":1,"column":579}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":31,"column":47},"generated":{"line":1,"column":581}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":589}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":32,"column":31},"generated":{"line":1,"column":591}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":32,"column":47},"generated":{"line":1,"column":607}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":32,"column":47},"generated":{"line":1,"column":609}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":622}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":33,"column":30},"generated":{"line":1,"column":628}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":1,"column":632}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":1,"column":634}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":33,"column":46},"generated":{"line":1,"column":646}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":33,"column":76},"generated":{"line":1,"column":675}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":681}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":683}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":35,"column":35},"generated":{"line":1,"column":692}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":35,"column":40},"generated":{"line":1,"column":694}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":35,"column":45},"generated":{"line":1,"column":699}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":709}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":715}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":37,"column":34},"generated":{"line":1,"column":717}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":37,"column":45},"generated":{"line":1,"column":719}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":37,"column":56},"generated":{"line":1,"column":730}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":37,"column":69},"generated":{"line":1,"column":743}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":746}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":38,"column":33},"generated":{"line":1,"column":748}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":38,"column":44},"generated":{"line":1,"column":750}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":38,"column":55},"generated":{"line":1,"column":761}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":38,"column":67},"generated":{"line":1,"column":773}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":776}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":39,"column":20},"generated":{"line":1,"column":778}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":39,"column":33},"generated":{"line":1,"column":791}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":39,"column":41},"generated":{"line":1,"column":799}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":39,"column":52},"generated":{"line":1,"column":801}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":39,"column":56},"generated":{"line":1,"column":805}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":39,"column":56},"generated":{"line":1,"column":807}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":40,"column":20},"generated":{"line":1,"column":816}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":40,"column":31},"generated":{"line":1,"column":818}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":41,"column":20},"generated":{"line":1,"column":820}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":1,"column":822}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":1,"column":831}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":1,"column":833}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":41,"column":49},"generated":{"line":1,"column":848}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":854}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":856}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":1,"column":868}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":42,"column":42},"generated":{"line":1,"column":877}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":42,"column":47},"generated":{"line":1,"column":879}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":42,"column":47},"generated":{"line":1,"column":881}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":42,"column":61},"generated":{"line":1,"column":895}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":43,"column":19},"generated":{"line":1,"column":903}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":910}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":46,"column":31},"generated":{"line":1,"column":917}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":923}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":46,"column":17},"generated":{"line":1,"column":928}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":940}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":1,"column":942}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":29},"generated":{"line":1,"column":955}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":37},"generated":{"line":1,"column":963}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":42},"generated":{"line":1,"column":968}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":53},"generated":{"line":1,"column":979}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":67},"generated":{"line":1,"column":993}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":73},"generated":{"line":1,"column":996}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":73},"generated":{"line":1,"column":998}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":88},"generated":{"line":1,"column":1013}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":47,"column":95},"generated":{"line":1,"column":1019}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":49,"column":15},"generated":{"line":1,"column":1025}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":49,"column":15},"generated":{"line":1,"column":1027}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":1,"column":1042}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":1049}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":1057}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":1071}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":1073}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":1079}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":32},"generated":{"line":1,"column":1089}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":32},"generated":{"line":1,"column":1091}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":1096}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":1108}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":57,"column":42},"generated":{"line":1,"column":1110}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":57,"column":66},"generated":{"line":1,"column":1112}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":1115}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":58,"column":14},"generated":{"line":1,"column":1121}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":1124}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":59,"column":13},"generated":{"line":1,"column":1129}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":59,"column":26},"generated":{"line":1,"column":1140}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":1142}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":60,"column":13},"generated":{"line":1,"column":1147}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":60,"column":21},"generated":{"line":1,"column":1153}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":1156}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":1164}},{"source":"../src/codegen/class/enum_specifier.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":1175}}],"sources":{"../src/codegen/class/enum_specifier.ts":"import {SyntaxError} from \"../../common/error\";\nimport {Node, SourceLocation} from \"../../common/node\";\nimport {AddressType, Variable} from \"../../common/symbol\";\nimport {AccessControl} from \"../../type\";\nimport {IntegerType, PrimitiveTypes} from \"../../type/primitive_type\";\nimport {WConst} from \"../../wasm\";\nimport {CompileContext} from \"../context\";\nimport {Expression} from \"../expression/expression\";\nimport {Identifier} from \"../expression/identifier\";\n\nexport class EnumSpecifier extends Node {\n    public identifier: Identifier;\n    public enumerators: Enumerator[] | null;\n\n    constructor(location: SourceLocation, identifier: Identifier, enumerators: Enumerator[] | null) {\n        super(location);\n        this.identifier = identifier;\n        this.enumerators = enumerators;\n    }\n\n    public codegen(ctx: CompileContext) {\n        if (this.enumerators != null) {\n            let now = -1, val = 0;\n            for (const enumerator of this.enumerators) {\n                now++;\n                if (enumerator.value === null) {\n                    val = now;\n                } else {\n                    const expr = enumerator.value.codegen(ctx);\n                    expr.expr = expr.expr.fold();\n                    if (!(expr.expr instanceof WConst) ||\n                        !(expr.type instanceof IntegerType)) {\n                        throw new SyntaxError(`enum value must be integer`, this);\n                    }\n                    val = parseInt(expr.expr.constant);\n                }\n                const shortName = enumerator.identifier.getPlainName(ctx);\n                const fullName = enumerator.identifier.getFullName(ctx);\n                ctx.scopeManager.declare(shortName, new Variable(\n                    shortName, fullName,\n                    ctx.fileName, PrimitiveTypes.int32,\n                    AddressType.CONSTANT, val, AccessControl.Public,\n                ), this);\n            }\n        }\n        if (this.identifier != null) {\n            ctx.scopeManager.declare(this.identifier.getLookupName(ctx), PrimitiveTypes.int32, this);\n        }\n        return PrimitiveTypes.int32;\n    }\n}\n\nexport class Enumerator extends Node {\n    public identifier: Identifier;\n    public value: Expression | null;\n\n    constructor(location: SourceLocation, identifier: Identifier, value: Expression | null) {\n        super(location);\n        this.identifier = identifier;\n        this.value = value;\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"19269d7128064f25dacf7ce45ea3bc4a","cacheData":{"env":{}}}