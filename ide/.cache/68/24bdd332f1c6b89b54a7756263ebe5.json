{"id":"WuVV","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209},{"name":"../../type/primitive_type","loc":{"line":4,"column":33,"index":140},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/if_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/type/primitive_type.ts"},{"name":"../../wasm","loc":{"line":5,"column":23,"index":193},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/if_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/wasm/index.ts"},{"name":"../conversion","loc":{"line":6,"column":29,"index":237},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/if_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/conversion.ts"},{"name":"./statement","loc":{"line":7,"column":28,"index":283},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/if_statement.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/codegen/statement/statement.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.IfStatement=void 0;const e=require(\"../../type/primitive_type\"),t=require(\"../../wasm\"),n=require(\"../conversion\"),s=require(\"./statement\");class i extends s.Statement{constructor(e,t,n,s){super(e),this.test=t,this.consequent=n,this.alternate=s}codegen(s){const i=[],o=[],r=this.test.codegen(s);r.expr=n.doConversion(s,e.PrimitiveTypes.int32,r,this),r.type=e.PrimitiveTypes.int32;const a=s.getStatementContainer();s.setStatementContainer(i),s.currentFuncContext.blockLevel++,this.consequent.codegen(s),null!==this.alternate&&(s.setStatementContainer(o),this.alternate.codegen(s)),s.setStatementContainer(a),s.currentFuncContext.blockLevel--,null!==this.alternate?s.submitStatement(new t.WIfElseBlock(r.expr.fold(),i,o,this.location)):s.submitStatement(new t.WIfElseBlock(r.expr.fold(),i,null,this.location))}}exports.IfStatement=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":93}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":95}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":101}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":103}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":111}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":140}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":150}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":164}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":166}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":174}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":191}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":193}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":201}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":216}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":222}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":33},"generated":{"line":1,"column":232}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":33},"generated":{"line":1,"column":234}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":244}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":15,"column":16},"generated":{"line":1,"column":256}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":15,"column":42},"generated":{"line":1,"column":258}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":15,"column":60},"generated":{"line":1,"column":260}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":15,"column":83},"generated":{"line":1,"column":262}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":265}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":271}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":274}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":279}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":17,"column":20},"generated":{"line":1,"column":284}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":18,"column":8},"generated":{"line":1,"column":286}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":18,"column":13},"generated":{"line":1,"column":291}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":1,"column":302}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":304}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":19,"column":13},"generated":{"line":1,"column":309}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":19,"column":25},"generated":{"line":1,"column":319}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":22,"column":11},"generated":{"line":1,"column":321}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":22,"column":19},"generated":{"line":1,"column":329}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":332}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":23,"column":14},"generated":{"line":1,"column":338}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":23,"column":45},"generated":{"line":1,"column":340}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":343}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":24,"column":45},"generated":{"line":1,"column":345}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":25,"column":14},"generated":{"line":1,"column":348}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":25,"column":26},"generated":{"line":1,"column":350}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":355}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":25,"column":36},"generated":{"line":1,"column":360}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":25,"column":44},"generated":{"line":1,"column":368}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":371}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":373}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":378}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":380}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":38},"generated":{"line":1,"column":393}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":43},"generated":{"line":1,"column":395}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":43},"generated":{"line":1,"column":397}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":58},"generated":{"line":1,"column":412}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":65},"generated":{"line":1,"column":418}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":27,"column":76},"generated":{"line":1,"column":420}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":426}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":28,"column":18},"generated":{"line":1,"column":428}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":28,"column":25},"generated":{"line":1,"column":433}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":28,"column":25},"generated":{"line":1,"column":435}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":28,"column":40},"generated":{"line":1,"column":450}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":456}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":30,"column":14},"generated":{"line":1,"column":462}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":30,"column":31},"generated":{"line":1,"column":464}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":466}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":490}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":492}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":31,"column":34},"generated":{"line":1,"column":514}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":517}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":519}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":32,"column":31},"generated":{"line":1,"column":538}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":551}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":556}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":567}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":33,"column":32},"generated":{"line":1,"column":575}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":578}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":585}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":34,"column":17},"generated":{"line":1,"column":590}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":602}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":1,"column":604}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":35,"column":38},"generated":{"line":1,"column":626}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":629}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":36,"column":17},"generated":{"line":1,"column":634}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":36,"column":27},"generated":{"line":1,"column":644}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":36,"column":35},"generated":{"line":1,"column":652}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":656}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":658}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":38,"column":34},"generated":{"line":1,"column":680}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":683}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":685}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":39,"column":31},"generated":{"line":1,"column":704}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":40,"column":31},"generated":{"line":1,"column":717}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":724}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":40,"column":17},"generated":{"line":1,"column":729}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":739}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":741}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":1,"column":757}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":36},"generated":{"line":1,"column":761}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":36},"generated":{"line":1,"column":763}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":49},"generated":{"line":1,"column":776}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":59},"generated":{"line":1,"column":778}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":64},"generated":{"line":1,"column":783}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":41,"column":72},"generated":{"line":1,"column":790}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":1,"column":792}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":1,"column":794}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":42,"column":37},"generated":{"line":1,"column":799}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":810}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":16},"generated":{"line":1,"column":812}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":32},"generated":{"line":1,"column":828}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":36},"generated":{"line":1,"column":832}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":36},"generated":{"line":1,"column":834}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":49},"generated":{"line":1,"column":847}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":59},"generated":{"line":1,"column":849}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":64},"generated":{"line":1,"column":854}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":44,"column":72},"generated":{"line":1,"column":861}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":1,"column":863}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":45,"column":22},"generated":{"line":1,"column":868}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":873}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":885}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":893}},{"source":"../src/codegen/statement/if_statement.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":905}}],"sources":{"../src/codegen/statement/if_statement.ts":"import {SourceLocation} from \"../../common/node\";\nimport {PrimitiveTypes} from \"../../type/primitive_type\";\nimport {WIfElseBlock} from \"../../wasm\";\nimport {WStatement} from \"../../wasm\";\nimport {CompileContext} from \"../context\";\nimport {doConversion} from \"../conversion\";\nimport {Expression} from \"../expression/expression\";\nimport {Statement} from \"./statement\";\n\nexport class IfStatement extends Statement {\n    public test: Expression;\n    public consequent: Statement;\n    public alternate: Statement | null;\n\n    constructor(location: SourceLocation, test: Expression, consequent: Statement, alternate: Statement | null) {\n        super(location);\n        this.test = test;\n        this.consequent = consequent;\n        this.alternate = alternate;\n    }\n\n    public codegen(ctx: CompileContext): void {\n        const thenStatements: WStatement[] = [];\n        const elseStatements: WStatement[] = [];\n        const condition = this.test.codegen(ctx);\n\n        condition.expr = doConversion(ctx, PrimitiveTypes.int32, condition, this);\n        condition.type = PrimitiveTypes.int32;\n\n        const savedContainer = ctx.getStatementContainer();\n        ctx.setStatementContainer(thenStatements);\n        ctx.currentFuncContext.blockLevel++;\n        this.consequent.codegen(ctx);\n        if (this.alternate !== null) {\n            ctx.setStatementContainer(elseStatements);\n            this.alternate.codegen(ctx);\n        }\n        ctx.setStatementContainer(savedContainer);\n        ctx.currentFuncContext.blockLevel--;\n        if (this.alternate !== null) {\n            ctx.submitStatement(new WIfElseBlock(condition.expr.fold(), thenStatements,\n                elseStatements, this.location));\n        } else {\n            ctx.submitStatement(new WIfElseBlock(condition.expr.fold(), thenStatements,\n                null, this.location));\n        }\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"ea13460172f820414832bb50dfb045ea","cacheData":{"env":{}}}