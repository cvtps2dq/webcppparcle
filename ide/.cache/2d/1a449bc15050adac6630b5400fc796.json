{"id":"KRc9","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MemoryLayout=void 0;class t{constructor(t){this.dataPtr=0,this.bssPtr=0,this.dataBuffer=new ArrayBuffer(t),this.data=new DataView(this.dataBuffer),this.stringMap=new Map,this.MEMORY_$BP=0,this.MEMORY_$SP=0,this.currentState={stackPtr:0,localPtr:0,localTypes:[]},this.states=[]}allocData(t){const s=this.dataPtr;return this.dataPtr+=t,s}allocBss(t){const s=this.bssPtr;return this.bssPtr+=t,s}allocLocal(t,s=!1){return s||this.currentState.localTypes.push(t),this.currentState.localPtr++}allocStack(t){return t%4!=0&&(t+=4-t%4),this.currentState.stackPtr-=t,this.currentState.stackPtr}allocString(t){const s=this.stringMap.get(t);if(void 0!==s)return s;const a=this.allocData(t.length+1);return this.setDataString(a,t),this.stringMap.set(t,a),a}setDataString(t,s){for(let a=0;a<s.length;a++)this.data.setUint8(t+a,s.charCodeAt(a));this.data.setUint8(t+s.length,0)}enterFunction(){this.states.push(this.currentState),this.currentState={stackPtr:0,localPtr:0,localTypes:[]}}exitFunction(){this.currentState=this.states.pop()}}exports.MemoryLayout=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":94}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":96}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":13},"generated":{"line":1,"column":102}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":104}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":116}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":119}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":124}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":132}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":134}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":139}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":1,"column":146}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":148}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":1,"column":153}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":1,"column":164}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":29,"column":30},"generated":{"line":1,"column":168}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":29,"column":42},"generated":{"line":1,"column":180}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":183}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":1,"column":188}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":193}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":197}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":30,"column":33},"generated":{"line":1,"column":206}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":211}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":223}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":1,"column":228}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":31,"column":25},"generated":{"line":1,"column":238}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":31,"column":29},"generated":{"line":1,"column":242}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":246}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":251}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":262}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":264}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":269}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":33,"column":26},"generated":{"line":1,"column":280}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":282}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":1,"column":287}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":34,"column":28},"generated":{"line":1,"column":300}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":301}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":35,"column":22},"generated":{"line":1,"column":310}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":312}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":36,"column":22},"generated":{"line":1,"column":321}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":323}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":37,"column":24},"generated":{"line":1,"column":334}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":338}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":343}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":39,"column":22},"generated":{"line":1,"column":350}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":1,"column":353}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":363}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":366}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":43,"column":14},"generated":{"line":1,"column":372}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":43,"column":23},"generated":{"line":1,"column":374}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":43,"column":28},"generated":{"line":1,"column":379}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":387}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":394}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":399}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":44,"column":24},"generated":{"line":1,"column":408}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":45,"column":15},"generated":{"line":1,"column":410}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":1,"column":412}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":1,"column":421}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":424}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":1,"column":430}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":49,"column":23},"generated":{"line":1,"column":432}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":1,"column":437}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":444}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":451}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":1,"column":456}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":464}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":51,"column":15},"generated":{"line":1,"column":466}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":468}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":1,"column":479}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":54,"column":35},"generated":{"line":1,"column":481}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":54,"column":52},"generated":{"line":1,"column":484}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":487}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":55,"column":14},"generated":{"line":1,"column":494}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":497}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":56,"column":17},"generated":{"line":1,"column":502}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":1,"column":515}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":56,"column":41},"generated":{"line":1,"column":526}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":56,"column":46},"generated":{"line":1,"column":531}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":534}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":58,"column":20},"generated":{"line":1,"column":539}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":58,"column":33},"generated":{"line":1,"column":552}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":61,"column":11},"generated":{"line":1,"column":563}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":61,"column":22},"generated":{"line":1,"column":574}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":577}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":584}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":62,"column":20},"generated":{"line":1,"column":586}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":62,"column":26},"generated":{"line":1,"column":589}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":1,"column":593}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":63,"column":20},"generated":{"line":1,"column":596}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":63,"column":25},"generated":{"line":1,"column":598}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":600}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":603}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":65,"column":13},"generated":{"line":1,"column":608}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":65,"column":26},"generated":{"line":1,"column":621}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":65,"column":38},"generated":{"line":1,"column":631}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":66,"column":15},"generated":{"line":1,"column":633}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":66,"column":20},"generated":{"line":1,"column":638}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":66,"column":33},"generated":{"line":1,"column":651}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":660}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":69,"column":23},"generated":{"line":1,"column":672}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":675}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":70,"column":14},"generated":{"line":1,"column":681}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":683}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":70,"column":26},"generated":{"line":1,"column":688}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":70,"column":36},"generated":{"line":1,"column":698}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":70,"column":40},"generated":{"line":1,"column":702}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":705}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":71,"column":22},"generated":{"line":1,"column":713}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":717}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":71,"column":35},"generated":{"line":1,"column":719}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":71,"column":42},"generated":{"line":1,"column":726}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":728}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":72,"column":14},"generated":{"line":1,"column":734}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":72,"column":21},"generated":{"line":1,"column":736}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":72,"column":26},"generated":{"line":1,"column":741}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":72,"column":36},"generated":{"line":1,"column":751}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":72,"column":40},"generated":{"line":1,"column":753}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":72,"column":49},"generated":{"line":1,"column":760}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":1,"column":763}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":770}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":1,"column":775}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":73,"column":27},"generated":{"line":1,"column":789}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":73,"column":33},"generated":{"line":1,"column":791}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":794}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":74,"column":13},"generated":{"line":1,"column":799}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":74,"column":23},"generated":{"line":1,"column":809}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":74,"column":27},"generated":{"line":1,"column":813}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":74,"column":32},"generated":{"line":1,"column":815}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":75,"column":15},"generated":{"line":1,"column":818}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":820}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":78,"column":25},"generated":{"line":1,"column":834}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":78,"column":41},"generated":{"line":1,"column":836}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":839}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":843}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":79,"column":17},"generated":{"line":1,"column":847}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":79,"column":21},"generated":{"line":1,"column":849}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":79,"column":24},"generated":{"line":1,"column":851}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":79,"column":28},"generated":{"line":1,"column":853}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":79,"column":34},"generated":{"line":1,"column":855}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":79,"column":42},"generated":{"line":1,"column":862}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":80,"column":12},"generated":{"line":1,"column":866}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":80,"column":17},"generated":{"line":1,"column":871}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":80,"column":22},"generated":{"line":1,"column":876}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":80,"column":31},"generated":{"line":1,"column":885}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":80,"column":40},"generated":{"line":1,"column":887}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":80,"column":43},"generated":{"line":1,"column":889}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":80,"column":49},"generated":{"line":1,"column":891}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":80,"column":60},"generated":{"line":1,"column":902}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":1,"column":906}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":1,"column":911}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":82,"column":18},"generated":{"line":1,"column":916}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":82,"column":27},"generated":{"line":1,"column":925}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":82,"column":36},"generated":{"line":1,"column":927}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":82,"column":42},"generated":{"line":1,"column":929}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":82,"column":50},"generated":{"line":1,"column":936}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":1,"column":939}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":955}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":1,"column":960}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":87,"column":20},"generated":{"line":1,"column":967}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":87,"column":25},"generated":{"line":1,"column":972}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":87,"column":30},"generated":{"line":1,"column":977}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":991}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":1,"column":996}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":88,"column":28},"generated":{"line":1,"column":1009}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":89,"column":12},"generated":{"line":1,"column":1010}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":89,"column":22},"generated":{"line":1,"column":1019}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":90,"column":12},"generated":{"line":1,"column":1021}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":90,"column":22},"generated":{"line":1,"column":1030}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":91,"column":12},"generated":{"line":1,"column":1032}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":91,"column":24},"generated":{"line":1,"column":1043}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":96,"column":11},"generated":{"line":1,"column":1047}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":1062}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":97,"column":13},"generated":{"line":1,"column":1067}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":97,"column":28},"generated":{"line":1,"column":1080}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":97,"column":33},"generated":{"line":1,"column":1085}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":97,"column":40},"generated":{"line":1,"column":1092}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":1099}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":1107}},{"source":"../src/codegen/memory.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":1120}}],"sources":{"../src/codegen/memory.ts":"/**\n *  @file\n *  @author zcy <zurl@live.com>\n *  Created at 16/06/2018\n */\nimport {WType} from \"../wasm\";\n\nexport interface FunctionMemoryState {\n    stackPtr: number;\n    localPtr: number;\n    localTypes: WType[];\n}\n\nexport class MemoryLayout {\n    public states: FunctionMemoryState[];\n    public currentState: FunctionMemoryState;\n    public dataPtr: number;\n    public bssPtr: number;\n    public data: DataView;\n    public dataBuffer: ArrayBuffer;\n    public stringMap: Map<string, number>;\n\n    public MEMORY_$SP: number;\n    public MEMORY_$BP: number;\n\n    constructor(dataSize: number) {\n        this.dataPtr = 0;\n        this.bssPtr = 0;\n        this.dataBuffer = new ArrayBuffer(dataSize);\n        this.data = new DataView(this.dataBuffer);\n        this.stringMap = new Map<string, number>();\n        this.MEMORY_$BP = 0;\n        this.MEMORY_$SP = 0;\n        this.currentState = {\n            stackPtr: 0,\n            localPtr: 0,\n            localTypes: [],\n        };\n        this.states = [];\n    }\n\n    public allocData(size: number): number {\n        const result = this.dataPtr;\n        this.dataPtr += size;\n        return result;\n    }\n\n    public allocBss(size: number): number {\n        const result = this.bssPtr;\n        this.bssPtr += size;\n        return result;\n    }\n\n    public allocLocal(type: WType, param: boolean = false): number {\n        if ( !param ) {\n            this.currentState.localTypes.push(type);\n        }\n        return this.currentState.localPtr++;\n    }\n\n    public allocStack(size: number): number {\n        if ( size % 4 !== 0 ) {\n            size += 4 - (size % 4);     // align to 4;\n        }\n        this.currentState.stackPtr -= size;\n        return this.currentState.stackPtr;\n    }\n\n    public allocString(str: string): number {\n        const item = this.stringMap.get(str)!;\n        if ( item !== undefined) { return item; }\n        const addr = this.allocData(str.length + 1);\n        this.setDataString(addr, str);\n        this.stringMap.set(str, addr);\n        return addr;\n    }\n\n    public setDataString(offset: number, value: string) {\n        for (let i = 0; i < value.length; i ++) {\n            this.data.setUint8(offset + i, value.charCodeAt(i));\n        }\n        this.data.setUint8(offset + value.length, 0);\n    }\n\n    // interrupt safe\n    public enterFunction() {\n        this.states.push(this.currentState);\n        this.currentState = {\n            stackPtr: 0,\n            localPtr: 0,\n            localTypes: [],\n        };\n    }\n\n    // interrupt safe\n    public exitFunction() {\n        this.currentState = this.states.pop()!;\n    }\n\n}\n"},"lineCount":null}},"error":null,"hash":"0b53ad9a9d1adc2b130b8a0c73bd2f7d","cacheData":{"env":{}}}