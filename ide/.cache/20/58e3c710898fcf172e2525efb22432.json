{"id":"WBcs","dependencies":[{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/tsconfig.json","includedInParent":true,"mtime":1722523452290},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/package.json","includedInParent":true,"mtime":1722527743495},{"name":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/ide/.browserslistrc","includedInParent":true,"mtime":1722523452209},{"name":"source-map","loc":{"line":9,"column":29,"index":245},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/preprocessor/context.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/node_modules/source-map/source-map.js"},{"name":"../common/error","loc":{"line":10,"column":24,"index":284},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/preprocessor/context.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/common/error.ts"},{"name":"./index","loc":{"line":11,"column":24,"index":328},"parent":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/preprocessor/context.ts","resolved":"/Users/tyamackovm/Desktop/Work/Start1T/webcpp/webcppparcle/src/preprocessor/index.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PreprocessContext=exports.PreprocessStatus=void 0;const e=require(\"source-map\"),r=require(\"../common/error\"),s=require(\"./index\");var t;!function(e){e[e.ON_IF=0]=\"ON_IF\",e[e.ON_ELSE=1]=\"ON_ELSE\"}(t=exports.PreprocessStatus||(exports.PreprocessStatus={}));class o{constructor(r,s){this.sourceFileName=r,this.generatedFileName=r.replace(\".cpp\",\".ii\"),this.node=new e.SourceNode(1,0,this.generatedFileName),this.marcoMap=s,this.skipBlock=!1,this.status=[],this.targetLine=0,this.targetColumn=0,this.onMultiLineComment=!1}defineMarco(e,t,o){if(o=o.trim(),this.marcoMap.has(e))throw new r.PreprocessError(`marco ${e} is already defined`);if(null===t){const r=s.parseMarco([],o);this.marcoMap.set(e,{name:e,parameters:t,target:o,parsedTarget:r})}else{const r=s.parseMarco(t,o);this.marcoMap.set(e,{name:e,parameters:t,target:o,parsedTarget:r})}}undefineMarco(e){if(!this.marcoMap.has(e))throw new r.PreprocessError(`marco ${e} is not defined`);this.marcoMap.delete(e)}append(r,s){this.node.add(new e.SourceNode(s.line+1,s.column,this.sourceFileName,r))}}exports.PreprocessContext=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":94}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":102}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":124}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":126}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":132}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":134}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":142}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":156}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":158}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":166}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":185}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":187}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":195}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":206}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":210}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":213}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":222}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":225}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":227}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":229}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":235}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":238}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":246}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":248}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":250}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":258}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":261}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":271}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":272}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":274}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":282}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":301}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":309}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":22,"column":28},"generated":{"line":1,"column":326}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":331}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":337}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":339}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":351}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":38,"column":34},"generated":{"line":1,"column":353}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":356}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":361}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":39,"column":30},"generated":{"line":1,"column":376}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":378}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":383}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":40,"column":33},"generated":{"line":1,"column":401}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":40,"column":42},"generated":{"line":1,"column":403}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":40,"column":50},"generated":{"line":1,"column":411}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":40,"column":58},"generated":{"line":1,"column":418}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":425}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":430}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":20},"generated":{"line":1,"column":435}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":1,"column":439}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":1,"column":441}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":35},"generated":{"line":1,"column":452}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":38},"generated":{"line":1,"column":454}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":41},"generated":{"line":1,"column":456}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":41,"column":46},"generated":{"line":1,"column":461}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":480}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":485}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":42,"column":24},"generated":{"line":1,"column":494}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":496}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":501}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":43,"column":25},"generated":{"line":1,"column":512}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":514}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":519}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":44,"column":22},"generated":{"line":1,"column":526}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":529}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":534}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":45,"column":26},"generated":{"line":1,"column":545}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":547}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":46,"column":13},"generated":{"line":1,"column":552}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":46,"column":28},"generated":{"line":1,"column":565}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":567}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":47,"column":13},"generated":{"line":1,"column":572}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":1,"column":592}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":594}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":606}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":50,"column":37},"generated":{"line":1,"column":608}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":50,"column":66},"generated":{"line":1,"column":610}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":613}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":616}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":51,"column":17},"generated":{"line":1,"column":618}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":51,"column":24},"generated":{"line":1,"column":620}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":627}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":52,"column":17},"generated":{"line":1,"column":632}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":52,"column":26},"generated":{"line":1,"column":641}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":52,"column":30},"generated":{"line":1,"column":645}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":648}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":53,"column":18},"generated":{"line":1,"column":654}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":658}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":660}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":53,"column":47},"generated":{"line":1,"column":685}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":709}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":55,"column":27},"generated":{"line":1,"column":712}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":55,"column":12},"generated":{"line":1,"column":719}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":55,"column":33},"generated":{"line":1,"column":721}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":722}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":56,"column":18},"generated":{"line":1,"column":728}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":56,"column":33},"generated":{"line":1,"column":730}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":56,"column":33},"generated":{"line":1,"column":732}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":56,"column":44},"generated":{"line":1,"column":743}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":56,"column":48},"generated":{"line":1,"column":746}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":12},"generated":{"line":1,"column":749}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":17},"generated":{"line":1,"column":754}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":26},"generated":{"line":1,"column":763}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":30},"generated":{"line":1,"column":767}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":36},"generated":{"line":1,"column":769}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":1,"column":770}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":1,"column":775}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":43},"generated":{"line":1,"column":777}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":43},"generated":{"line":1,"column":788}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":55},"generated":{"line":1,"column":790}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":55},"generated":{"line":1,"column":797}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":63},"generated":{"line":1,"column":799}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":57,"column":63},"generated":{"line":1,"column":812}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":820}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":1,"column":821}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":59,"column":18},"generated":{"line":1,"column":827}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":1,"column":829}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":1,"column":831}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":59,"column":44},"generated":{"line":1,"column":842}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":59,"column":56},"generated":{"line":1,"column":844}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":1,"column":847}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":17},"generated":{"line":1,"column":852}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":26},"generated":{"line":1,"column":861}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":30},"generated":{"line":1,"column":865}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":36},"generated":{"line":1,"column":867}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":37},"generated":{"line":1,"column":868}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":37},"generated":{"line":1,"column":873}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":43},"generated":{"line":1,"column":875}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":43},"generated":{"line":1,"column":886}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":55},"generated":{"line":1,"column":888}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":55},"generated":{"line":1,"column":895}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":63},"generated":{"line":1,"column":897}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":60,"column":63},"generated":{"line":1,"column":910}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":915}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":65,"column":25},"generated":{"line":1,"column":929}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":932}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":66,"column":13},"generated":{"line":1,"column":936}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":66,"column":18},"generated":{"line":1,"column":941}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":66,"column":27},"generated":{"line":1,"column":950}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":66,"column":31},"generated":{"line":1,"column":954}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":1,"column":957}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":67,"column":18},"generated":{"line":1,"column":963}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":67,"column":22},"generated":{"line":1,"column":967}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":67,"column":22},"generated":{"line":1,"column":969}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":67,"column":47},"generated":{"line":1,"column":994}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":1014}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":69,"column":13},"generated":{"line":1,"column":1019}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":69,"column":22},"generated":{"line":1,"column":1028}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":69,"column":29},"generated":{"line":1,"column":1035}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":72,"column":11},"generated":{"line":1,"column":1038}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":72,"column":18},"generated":{"line":1,"column":1045}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":72,"column":31},"generated":{"line":1,"column":1047}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":1050}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":1,"column":1055}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":73,"column":18},"generated":{"line":1,"column":1060}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":1,"column":1064}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":73,"column":26},"generated":{"line":1,"column":1068}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":73,"column":26},"generated":{"line":1,"column":1070}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":74,"column":12},"generated":{"line":1,"column":1081}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":74,"column":32},"generated":{"line":1,"column":1083}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":74,"column":39},"generated":{"line":1,"column":1088}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":1090}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":75,"column":32},"generated":{"line":1,"column":1092}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":1099}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":76,"column":17},"generated":{"line":1,"column":1104}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":76,"column":33},"generated":{"line":1,"column":1119}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":1124}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":1132}},{"source":"../src/preprocessor/context.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":1150}}],"sources":{"../src/preprocessor/context.ts":"/**\n *  @file\n *  @author zcy <zurl@live.com>\n *  Created at 08/07/2018\n */\nimport {SourceNode} from \"source-map\";\nimport {PreprocessError} from \"../common/error\";\nimport {parseMarco} from \"./index\";\n\nexport interface Marco {\n    name: string;\n    parameters: string[] | null;\n    target: string;\n    parsedTarget: Array<string | number>;\n}\n\nexport interface Position {\n    line: number;\n    column: number;\n}\n\nexport enum PreprocessStatus {\n    ON_IF,\n    ON_ELSE,\n}\n\nexport class PreprocessContext {\n    public node: SourceNode;\n    public sourceFileName: string;\n    public generatedFileName: string;\n    public marcoMap: Map<string, Marco>;\n    public skipBlock: boolean;\n    public status: Array<[PreprocessStatus, boolean]>;\n    public targetLine: number;\n    public targetColumn: number;\n    public onMultiLineComment: boolean;\n\n    constructor(fileName: string, marcoMap: Map<string, Marco>) {\n        this.sourceFileName = fileName;\n        this.generatedFileName = fileName.replace(\".cpp\", \".ii\");\n        this.node = new SourceNode(1, 0, this.generatedFileName);\n        this.marcoMap = marcoMap;\n        this.skipBlock = false;\n        this.status = [];\n        this.targetLine = 0;\n        this.targetColumn = 0;\n        this.onMultiLineComment = false;\n    }\n\n    public defineMarco(name: string, parameters: string[] | null, target: string) {\n        target = target.trim();\n        if (this.marcoMap.has(name)) {\n            throw new PreprocessError(`marco ${name} is already defined`);\n        }\n        if (parameters === null) {\n            const parsedTarget = parseMarco([], target);\n            this.marcoMap.set(name, {name, parameters, target, parsedTarget});\n        } else {\n            const parsedTarget = parseMarco(parameters, target);\n            this.marcoMap.set(name, {name, parameters, target, parsedTarget});\n        }\n\n    }\n\n    public undefineMarco(name: string) {\n        if (!this.marcoMap.has(name)) {\n            throw new PreprocessError(`marco ${name} is not defined`);\n        }\n        this.marcoMap.delete(name);\n    }\n\n    public append(str: string, sourceStartPosition: Position) {\n        this.node.add(new SourceNode(\n            sourceStartPosition.line + 1,\n            sourceStartPosition.column,\n            this.sourceFileName, str));\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"2b6d8408457dc6f351dc734e41ac6df0","cacheData":{"env":{}}}